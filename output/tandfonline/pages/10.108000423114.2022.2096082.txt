<div id="S001" class="NLM_sec NLM_sec-type_intro NLM_sec_level_1">
 <h2 id="_i2" class="section-heading-2">1. Introduction</h2>
 <p>In motorsport races, overtaking is one of the most tricky but exciting and breathtaking manoeuvres. In most cases, overtaking is an essential action to gain higher positions on the track, which leads to higher rewards. Overtaking may happen both in the pitlane (due to different refuelling or tyre change strategies) or on the track. The former one requires more from the race strategy management to create a chance of undercut or overcut on a multi-lap level. In contrast, the latter one requires more from the driver and vehicle. This means that either the driver needs to be adventurous enough to make a bold move or the race car itself must have some net advantages (e.g. power and handling) over the other competitors. A successful overtake requires good trajectory planning with execution and proper management of the resource either vehicular (e.g. power energy) or environmental (e.g. slipstreaming from another car).</p>
 <p>In the literature, the studies for overtaking manoeuvres focused on developing controllers in real-time to complete the manoeuvre. These fall into two main categories, overtaking by lane changing for road car applications and controller development for race car applications.</p>
 <p>The number of researches for race car overtakes is very limited and they are mainly completed in simulation game environments, such as The Open Racing Car Simulator (TORCS). Developing control algorithms in racing games has been a topic because of the convenience of the simulation environment [<span class="ref-lnk lazy-ref"><a data-rid="CIT0001 CIT0002 CIT0003" data-reflink="_i38 _i39" href="#"><span class="off-screen">Citation</span>1–3</a></span>]. However, the commonly overtaking strategy in games is relatively simple which is sensing opponent cars as static obstacles and finding a clear path through [<span class="ref-lnk lazy-ref"><a data-rid="CIT0004" data-reflink="_i38 _i39" href="#"><span class="off-screen">Citation</span>4</a></span>]. For novel overtaking techniques, Onieva [<span class="ref-lnk lazy-ref"><a data-rid="CIT0005" data-reflink="_i38 _i39" href="#"><span class="off-screen">Citation</span>5</a></span>] added a decision layer using fuzzy logic to the basic underlying control layer aiming to overtake opponents with blocking strategies. The limit of this study is that the odds of successful overtaking are under 50% and the experiments were completed only on long straights. Loiacono [<span class="ref-lnk lazy-ref"><a data-rid="CIT0006" data-reflink="_i38 _i39" href="#"><span class="off-screen">Citation</span>6</a></span>] proposed the use of machine learning techniques to tackle the challenge of overtaking. The study focused on two scenarios: (1) long straights and large corners and (2) tight bends. The tests were conducted against non-player character (NPC) drivers in the game. The utility of Q-learning is proved in developing overtake techniques of slipstreaming and late braking for the two scenarios. Similarly, Huang [<span class="ref-lnk lazy-ref"><a data-rid="CIT0007" data-reflink="_i38 _i39" href="#"><span class="off-screen">Citation</span>7</a></span>] also adopted Q-learning for overtaking studies which were experimented with in more complicated tracks and proved to be able to learn both overtaking and blocking skills. Although these studies showed that the overtaking manoeuvres can be solved, the experiments in these cases have some common limits. (1) The test tracks were relatively simple. (2) The level of NPCs was poor which created big chances of being overtaken by the actor vehicle. (3) The fuzzy architecture used in [<span class="ref-lnk lazy-ref"><a data-rid="CIT0005" data-reflink="_i38 _i39" href="#"><span class="off-screen">Citation</span>5</a></span>] is composed of general if–then rules which were not able to give a precise analysis of overtaking possibilities. (4) Q-leaning technique has its natural stochastic feature which makes it very difficult to generate an optimal overtaking solution.</p>
 <p>The majority of overtaking research mainly focus on autonomous road vehicles. An overtaking manoeuvre can typically be divided into sub-manoeuvres as: (1) moving to another lane; (2) passing the target vehicle; and (3) merging back to the normal lane. The methods used for trajectory planning for these manoeuvres fall into three main categories. (1) Potential field algorithms assign potential values to the path fields ahead to describe the safety levels along the path [<span class="ref-lnk lazy-ref"><a data-rid="CIT0008" data-reflink="_i38 _i39" href="#"><span class="off-screen">Citation</span>8</a></span>]. The quality of generated path depends heavily on the potential value assignment which is based on knowledge of the environment. And the safety is possibly compromised due to the lack of accounting for vehicle kinematics in high-speed scenarios [<span class="ref-lnk lazy-ref"><a data-rid="CIT0009" data-reflink="_i38 _i39" href="#"><span class="off-screen">Citation</span>9</a></span>,<span class="ref-lnk lazy-ref"><a data-rid="CIT0010" data-reflink="_i38 _i39" href="#"><span class="off-screen">Citation</span>10</a></span>]. (2) Tree search techniques such as rapidly exploring random tree (RRT) [<span class="ref-lnk lazy-ref"><a data-rid="CIT0011" data-reflink="_i38 _i39" href="#"><span class="off-screen">Citation</span>11</a></span>] are also popular for path planning. Vehicle constraints can be incorporated into the calculation. But such decomposition algorithms might generate sharp path curvature changes due to discontinuity in the tree search and result in discomfort for passengers [<span class="ref-lnk lazy-ref"><a data-rid="CIT0012" data-reflink="_i38 _i39" href="#"><span class="off-screen">Citation</span>12</a></span>]. And the size of the tree would significantly affect the computational cost of the algorithms [<span class="ref-lnk lazy-ref"><a data-rid="CIT0011" data-reflink="_i38 _i39" href="#"><span class="off-screen">Citation</span>11</a></span>]. (3) Model predictive control (MPC) methods which previously have been used widely for path tracking controllers, recently have been used in research for path planning. And a sequence of controls can be solved simultaneously with the path [<span class="ref-lnk lazy-ref"><a data-rid="CIT0013" data-reflink="_i38 _i39" href="#"><span class="off-screen">Citation</span>13</a></span>,<span class="ref-lnk lazy-ref"><a data-rid="CIT0014" data-reflink="_i38 _i39" href="#"><span class="off-screen">Citation</span>14</a></span>]. (4) Optimal control-based methods target to minimise a cost function under a number of constraints. In such methods, various factors can be accounted for (e.g. vehicle limit, environment constraints, driver comforts) [<span class="ref-lnk lazy-ref"><a data-rid="CIT0015" data-reflink="_i38 _i39" href="#"><span class="off-screen">Citation</span>15</a></span>,<span class="ref-lnk lazy-ref"><a data-rid="CIT0016" data-reflink="_i38 _i39" href="#"><span class="off-screen">Citation</span>16</a></span>]. While the latter two categories are promising robust methods for path planning due to their ability to incorporate multiple dynamic features and constraints, for the faster computational speed required by real-time applications, the models used to formulate these problems are still mostly simplified (e.g. point mass vehicle model, bicycle model with no non-linear features). A generated path might not be feasible for path tracking controllers which might lead to safety issues [<span class="ref-lnk lazy-ref"><a data-rid="CIT0017" data-reflink="_i38 _i39" href="#"><span class="off-screen">Citation</span>17</a></span>].</p>
 <p>In high-level motorsport races, optimisation of overtaking manoeuvres is a complex problem to analyse in which several factors cannot be neglected. First, overtaking relies largely on utilising the full envelope of the race car performance. Therefore, complex system models are needed to describe the system dynamics in the calculation. Second, overtaking is always an expensive manoeuvre that comes with costs in resources such as energy, fuel or tyre life. It also brings penalties such as heat generation or tyre degradation. In races with restrictions on resources (e.g. Formula one tyre usage [<span class="ref-lnk lazy-ref"><a data-rid="CIT0018" data-reflink="_i38 _i39" href="#"><span class="off-screen">Citation</span>18</a></span>], Formula E energy consumption [<span class="ref-lnk lazy-ref"><a data-rid="CIT0019" data-reflink="_i38 _i39" href="#"><span class="off-screen">Citation</span>19</a></span>]), aggressive overtaking might raise resource crisis in later laps. This further raises an overtaking problem into a management problem with a very long optimisation horizon (track length, lap level). In this case, real-time MPC algorithms are no longer suitable because their relatively shorter prediction horizons will easily yield sub-optimal solutions and it is hard to formulate a long-horizon management problem into sub-problems. An overtaking manoeuvre needs to be executed in a way as efficient as possible so that being re-overtaken later due to saving the over-consumed resource can be evitable. Third, highly professional drivers and teams rarely make mistakes that offer their opponents easy opportunities to overtake. The solution for overtaking manoeuvres has to be optimal to guarantee a gain in the position even given a very small probability of success.</p>
 <p>In recent motorsport-related research, optimal control techniques are widely used for single-car optimal minimal time manoeuvre (MTM) and lap time simulation studies. Giacomo et&nbsp;al. [<span class="ref-lnk lazy-ref"><a data-rid="CIT0020" data-reflink="_i38 _i39" href="#"><span class="off-screen">Citation</span>20</a></span>,<span class="ref-lnk lazy-ref"><a data-rid="CIT0021" data-reflink="_i38 _i39" href="#"><span class="off-screen">Citation</span>21</a></span>] proposed to use the optimal control technique to generate a track in 2D (i.e. a plane track) and 3D (i.e. a spatial ribbon) spaces. The problem was formulated to control the curvatures, rotations, and track widths to minimise the sum of the integral error to the surveyed GPS coordinates and the change rate of the controls under the closure constraints of a closed track. The majority of the minimal time relating research use 2D tracks to simplify the problem. Tremlett et&nbsp;al. [<span class="ref-lnk lazy-ref"><a data-rid="CIT0022" data-reflink="_i38 _i39" href="#"><span class="off-screen">Citation</span>22</a></span>] studied the optimal limited-slip differential (LSD) bias profile on U-shape turn with different road-tyre frictions. Similarly in [<span class="ref-lnk lazy-ref"><a data-rid="CIT0020" data-reflink="_i38 _i39" href="#"><span class="off-screen">Citation</span>20</a></span>], LSD bias was studied on a closed track but was proposed as a constant vehicle parameter to be optimised simultaneously as the optimal control problem (OCP) being solved. In [<span class="ref-lnk lazy-ref"><a data-rid="CIT0023" data-reflink="_i38 _i39" href="#"><span class="off-screen">Citation</span>23</a></span>], a thermodynamic model and tyre wear model were introduced into the problem. The influence of tyre temperature on performance was studied and an optimal tyre warming up strategy was investigated. It also shows that vehicle setups can be optimised to minimise tyre wear. The powertrain has been another category of related research. Limebeer et&nbsp;al. [<span class="ref-lnk lazy-ref"><a data-rid="CIT0024" data-reflink="_i38 _i39" href="#"><span class="off-screen">Citation</span>24</a></span>] studied the optimal control for the formula one hybrid powertrain. The result demonstrated that with proper management of the new hybrid system, one-third of the fuel can be saved compared to the earlier pure internal combustion powertrain. Soren et&nbsp;al. [<span class="ref-lnk lazy-ref"><a data-rid="CIT0025" data-reflink="_i38 _i39" href="#"><span class="off-screen">Citation</span>25</a></span>] fixed the driving path in the problem to improve the computational efficiency for the hybrid powertrain management. They also proposed a real-time implementable method to control the powertrain by using analytic derivations. Because full-electric motorsport has become popular, Herrmann et&nbsp;al. [<span class="ref-lnk lazy-ref"><a data-rid="CIT0026" data-reflink="_i38 _i39" href="#"><span class="off-screen">Citation</span>26</a></span>] studied the optimal energy management of full-electric autonomous race cars. Liu et&nbsp;al. [<span class="ref-lnk lazy-ref"><a data-rid="CIT0027" data-reflink="_i38 _i39" href="#"><span class="off-screen">Citation</span>27</a></span>] studied the optimal energy and thermal management strategy for Formula-E cars for single-lap and multi-lap scenarios [<span class="ref-lnk lazy-ref"><a data-rid="CIT0028" data-reflink="_i38 _i39" href="#"><span class="off-screen">Citation</span>28</a></span>]. Lifting and coasting techniques were developed to save energy and the effect of energy consumption restriction on race lines and lap times was demonstrated. In more complex studies, the vehicle model is improved to be used on a 3D ribbon track [<span class="ref-lnk lazy-ref"><a data-rid="CIT0020" data-reflink="_i38 _i39" href="#"><span class="off-screen">Citation</span>20</a></span>,<span class="ref-lnk lazy-ref"><a data-rid="CIT0028" data-reflink="_i38 _i39" href="#"><span class="off-screen">Citation</span>28</a></span>] with banking and elevation features. Masouleh et&nbsp;al. [<span class="ref-lnk lazy-ref"><a data-rid="CIT0029" data-reflink="_i38 _i39" href="#"><span class="off-screen">Citation</span>29</a></span>] introduced a multilink suspension into the vehicle modelling and the aero-suspension interaction feature was incorporated. The vehicle setups and aerodynamics features were optimised to fully improve the aerodynamic influence on the car to minimise the lap time. Dal Bianco et&nbsp;al. [<span class="ref-lnk lazy-ref"><a data-rid="CIT0030" data-reflink="_i38 _i39" href="#"><span class="off-screen">Citation</span>30</a></span>] compared the computational performance of direct and indirect methods for OCPs because the computational time for such minimal lap time is usually long (dozens of minutes).</p>
 <p>In this paper, we proposed a novel approach to formulate a lap time simulation, which allows analysis of the performance of a car with the presence of an opponent car. This introduces to the industry a new element in pre-race preparations and enables engineers to analyse the maximum performance that can be extracted with the influence of an opponent car. This further provides engineers a better understanding strategies multi-car scenarios. It also potentially introduces another dimension in race-level strategy development where more complex strategies or even dominant strategies for securing a higher position based on the understanding of overtaking feasibility can be investigated.</p>
 <p>Optimal control techniques are used in this study to solve the overtaking problem with complex system dynamics, a large optimisation horizon, and the multiple constraints and components of the cost function. The overtaking manoeuvres combined with the energy management strategy of Formula-E cars are studied. The first section of this paper introduces the background of overtaking in motorsport and previous research about minimal time OCPs and overtaking manoeuvres. In Section&nbsp;2, the generation of reference trajectories will be demonstrated and overtaking opportunities will be explained. Section&nbsp;3 presents the formulation of the overtaking OCP. Section&nbsp;4 includes the optimal solutions of overtaking manoeuvres and essential conditions for a successful overtaking will be discussed. The conclusions will be summarised in Section&nbsp;5.</p>
</div>
<div id="S002" class="NLM_sec NLM_sec_level_1">
 <h2 id="_i3" class="section-heading-2">2. Reference performance and overtaking opportunities</h2>
 <p>In this paper, for both reference trajectories and the vehicle being controlled, the curvilinear coordinate system is used to describe the track. The vehicle is described using a 7DOF planar model with longitudinal, lateral, yaw motions with four-wheel rotations. Steering input is applied on the front wheels. Drive and regenerative brake torque are applied on the rear wheels and a mechanical brake applies on the front wheel. An LSD is modelled on the rear axle. Aerodynamics and load transfer effects are also included. We choose not to use higher-fidelity models to include pitch and roll motions in this study because the motions of pitch and roll are more of a priority when a task is more dominated by vehicle dynamics studies. In high-level motorsport (i.e. Formula One and Formula E), the roll and pitch motions themselves have relatively low magnitudes due to the high stiffness of suspensions on these cars. The main reason why these are important is that they have a crucial effect on aerodynamics performance like in Formula One where aerodynamics downforce character is one of the dominant factors thus cannot be overlooked in performance analysis [<span class="ref-lnk lazy-ref"><a data-rid="CIT0029" data-reflink="_i38 _i39" href="#"><span class="off-screen">Citation</span>29</a></span>]. However, in Formula E, the bodywork used by teams is identical and its design concept is very different from formula one [<span class="ref-lnk lazy-ref"><a data-rid="CIT0031" data-reflink="_i38 _i39" href="#"><span class="off-screen">Citation</span>31</a></span>] and is of much less concern in downforce generation thus the performance is less aerodynamic dependent or sensitive to pitch and roll motions [<span class="ref-lnk lazy-ref"><a data-rid="CIT0032" data-reflink="_i38 _i39" href="#"><span class="off-screen">Citation</span>32</a></span>]. The details of the models are presented in Appendix A.</p>
 <div id="S002-S2001" class="NLM_sec NLM_sec_level_2">
  <h3 class="section-heading-3" id="_i4">2.1. Reference trajectory and performance</h3>
  <p>In motorsport races such as Formula One and Formula E, energy whether electric or fuel, is never adequate enough for drivers to flat out through the entire race. It is a limited resource that drivers and engineers have to carefully manage every lap. For example, in a formula E race, ‘energy per lap’ (EPL) which indicates the target energy consumption during a single lap, is a crucial factor. It is commonly way lower than the energy consumption of a flat-out lap during which energy saving is not considered. And exceeding it will potentially lead to a flat battery before the race finishes.</p>
  <p>According to [<span class="ref-lnk lazy-ref"><a data-rid="CIT0027" data-reflink="_i38 _i39" href="#"><span class="off-screen">Citation</span>27</a></span>], the most common way to save energy while maintaining a competitive speed is through lift and costing (LaC) techniques. An example of such a technique is shown in Figure&nbsp;<a href="#F0001">1</a>.</p>
  <div class="figure figureViewer" id="F0001">
   <div class="hidden figureViewerArticleInfo">
    <span class="figViewerTitle">Energy-optimal overtaking manoeuvres of Formula-E cars</span>
    <div class="articleAuthors articleInfoSection">
     <div class="authorsHeading">
      All authors
     </div>
     <div class="authors">
      <a class="entryAuthor" href="/action/doSearch?Contrib=Liu%2C+Xuze"><span class="hlFld-ContribAuthor"></span></a><a href="/author/Liu%2C+Xuze"><span class="NLM_given-names">Xuze</span> Liu</a> <a href="https://orcid.org/0000-0002-2908-2738"><img src="/templates/jsp/images/orcid.png"></a>, <a class="entryAuthor" href="/action/doSearch?Contrib=Fotouhi%2C+Abbas"><span class="hlFld-ContribAuthor"></span></a><a href="/author/Fotouhi%2C+Abbas"><span class="NLM_given-names">Abbas</span> Fotouhi</a> <a href="https://orcid.org/0000-0002-5402-8629"><img src="/templates/jsp/images/orcid.png"></a> &amp; <a class="entryAuthor" href="/action/doSearch?Contrib=Auger%2C+Daniel+J"><span class="hlFld-ContribAuthor"></span></a><a href="/author/Auger%2C+Daniel+J"><span class="NLM_given-names">Daniel J.</span> Auger</a> <a href="https://orcid.org/0000-0002-6199-4251"><img src="/templates/jsp/images/orcid.png"></a>
     </div>
    </div>
    <div class="articleLowerInfo articleInfoSection">
     <div class="articleLowerInfoSection articleInfoDOI">
      <a href="https://doi.org/10.1080/00423114.2022.2096082">https://doi.org/10.1080/00423114.2022.2096082</a>
     </div>
     <div class="articleInfoPublicationDate articleLowerInfoSection border">
      <h6>Published online:</h6>11 July 2022
     </div>
    </div>
   </div>
   <div class="figureThumbnailContainer">
    <div class="figureInfo">
     <div class="short-legend">
      <p class="captionText"><span class="captionLabel">Figure 1. </span> Speed profiles using different EPLs.</p>
     </div>
    </div><a href="#" class="thumbnail" aria-label="thumbnail image"><img id="F0001image" src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/medium/nvsd_a_2096082_f0001_oc.jpg" loading="lazy" height="387" width="500"></a>
    <div class="figureDownloadOptions">
     <a href="#" class="downloadBtn btn btn-sm" role="button">Display full size</a>
    </div>
   </div>
  </div>
  <div class="hidden rs_skip" id="fig-description-F0001">
   <p class="captionText"><span class="captionLabel">Figure 1. </span> Speed profiles using different EPLs.</p>
  </div>
  <div class="hidden rs_skip" id="figureFootNote-F0001">
   <div class="figureFootNote-F0001"></div>
  </div>
  <p></p>
  <p>In general, what the driver needs to do is to lift his foot off the acceleration pedal and let the car coast by its momentum with or without a certain amount of regenerative coasting torque. This technique is used when the car reaches a relatively higher speed, normally near the end of a straight before applying the brake. As shown in the figure, this results in a speed disadvantage compared to the unlimited case which is the performance without considering energy saving. Lower EPLs bring larger speed disadvantages.</p>
  <p>The track used in this study is the Marrakesh E-Prix track. To analyse overtaking manoeuvres, the trajectories of a reference car, namely the target car is needed. To generate such reference trajectories, a single-car OCP of MTM is formulated with a boundary constraint of EPL and based on the cost function of <span class="NLM_disp-formula-image disp-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_m0001.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_m0001.gif&quot;}"><span class="mml-formula"><span class="disp_formula_label_div"><span id="M0001" class="disp-formula-label">(1) </span></span></span></span><span class="NLM_disp-formula disp-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mi>
      J
     </mi><mo>
      =
     </mo><msubsup>
      <mo>
       ∫
      </mo>
      <mrow>
       <mrow>
        <msub>
         <mi>
          s
         </mi>
         <mn>
          0
         </mn>
        </msub>
       </mrow>
      </mrow>
      <mrow>
       <mrow>
        <msub>
         <mi>
          s
         </mi>
         <mi>
          t
         </mi>
        </msub>
       </mrow>
      </mrow>
     </msubsup><mrow>
      <mi>
       S
      </mi>
      <mi>
       f
      </mi>
      <mspace width="thinmathspace"></mspace>
      <mi>
       d
      </mi>
      <mi>
       s
      </mi>
     </mrow><mo>
      ,
     </mo>
    </math><span class="mathjaxLabel"><span class="disp_formula_label_div"><span id="M0001" class="disp-formula-label">(1) </span></span></span></span>where <span class="NLM_disp-formula-image inline-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0001.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0001.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mrow>
      <msub>
       <mi>
        s
       </mi>
       <mn>
        0
       </mn>
      </msub>
     </mrow>
    </math></span> and <span class="NLM_disp-formula-image inline-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0002.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0002.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mrow>
      <msub>
       <mi>
        s
       </mi>
       <mi>
        t
       </mi>
      </msub>
     </mrow>
    </math></span> are the initial and terminal length of the track, respectively, <span class="NLM_disp-formula-image inline-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0003.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0003.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mrow>
      <msub>
       <mi>
        S
       </mi>
       <mi>
        f
       </mi>
      </msub>
     </mrow>
    </math></span> representing the reciprocal of the vehicle velocity along the track centreline which is defined in the track model in Appendix A. The energy constraint is added as <span class="NLM_disp-formula-image disp-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_m0002.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_m0002.gif&quot;}"><span class="mml-formula"><span class="disp_formula_label_div"><span id="M0002" class="disp-formula-label">(2) </span></span></span></span><span class="NLM_disp-formula disp-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mrow>
      <msub>
       <mi>
        g
       </mi>
       <mrow>
        <mi>
         b
        </mi>
        <mi>
         E
        </mi>
       </mrow>
      </msub>
     </mrow><mo>
      =
     </mo><msubsup>
      <mo>
       ∫
      </mo>
      <mrow>
       <mrow>
        <msub>
         <mi>
          s
         </mi>
         <mn>
          0
         </mn>
        </msub>
       </mrow>
      </mrow>
      <mrow>
       <mrow>
        <msub>
         <mi>
          s
         </mi>
         <mi>
          t
         </mi>
        </msub>
       </mrow>
      </mrow>
     </msubsup><mrow>
      <mo stretchy="false">
       (
      </mo>
      <mrow>
       <mi>
        P
       </mi>
       <mi mathvariant="normal">
        _
       </mi>
       <mi>
        p
       </mi>
       <mi>
        o
       </mi>
       <mi>
        w
       </mi>
       <mi>
        e
       </mi>
       <mi>
        r
       </mi>
       <mo>
        ⋅
       </mo>
       <mi>
        S
       </mi>
       <mi>
        f
       </mi>
      </mrow>
      <mo stretchy="false">
       )
      </mo>
      <mi>
       d
      </mi>
      <mi>
       s
      </mi>
      <mo>
       &lt;
      </mo>
      <mrow>
       <msub>
        <mi>
         E
        </mi>
        <mrow>
         <mi>
          e
         </mi>
         <mi>
          p
         </mi>
         <mi>
          l
         </mi>
        </mrow>
       </msub>
      </mrow>
     </mrow>
    </math><span class="mathjaxLabel"><span class="disp_formula_label_div"><span id="M0002" class="disp-formula-label">(2) </span></span></span></span>in which <span class="NLM_disp-formula-image inline-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0004.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0004.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mrow>
      <msub>
       <mi>
        E
       </mi>
       <mrow>
        <mi>
         e
        </mi>
        <mi>
         p
        </mi>
        <mi>
         l
        </mi>
       </mrow>
      </msub>
     </mrow>
    </math></span> is the upper limit of total energy consumption per lap, <span class="NLM_disp-formula-image inline-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0005.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0005.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mrow>
      <msub>
       <mi>
        P
       </mi>
       <mrow>
        <mi>
         p
        </mi>
        <mi>
         o
        </mi>
        <mi>
         w
        </mi>
        <mi>
         e
        </mi>
        <mi>
         r
        </mi>
       </mrow>
      </msub>
     </mrow><mo>
      =
     </mo><mrow>
      <msub>
       <mi>
        P
       </mi>
       <mrow>
        <mi>
         d
        </mi>
        <mi>
         r
        </mi>
        <mi>
         i
        </mi>
        <mi>
         v
        </mi>
        <mi>
         e
        </mi>
       </mrow>
      </msub>
     </mrow><mo>
      +
     </mo><mrow>
      <msub>
       <mi>
        P
       </mi>
       <mrow>
        <mi>
         r
        </mi>
        <mi>
         e
        </mi>
        <mi>
         g
        </mi>
        <mi>
         e
        </mi>
        <mi>
         n
        </mi>
       </mrow>
      </msub>
     </mrow>
    </math></span> is the combination of propulsion and regeneration power given by <span class="NLM_disp-formula-image disp-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_m0003.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_m0003.gif&quot;}"><span class="mml-formula"><span class="disp_formula_label_div"><span id="M0003" class="disp-formula-label">(3) </span></span></span></span><span class="NLM_disp-formula disp-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mtable columnalign="right left right left right left right left right left right left" rowspacing="3pt" columnspacing="0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em" displaystyle="true">
      <mtr>
       <mtd>
        <mrow>
         <msub>
          <mi>
           P
          </mi>
          <mrow>
           <mi>
            d
           </mi>
           <mi>
            r
           </mi>
           <mi>
            i
           </mi>
           <mi>
            v
           </mi>
           <mi>
            e
           </mi>
          </mrow>
         </msub>
        </mrow>
       </mtd>
       <mtd>
        <mi></mi>
        <mo>
         =
        </mo>
        <mo stretchy="false">
         (
        </mo>
        <mrow>
         <mrow>
          <msub>
           <mi>
            T
           </mi>
           <mrow>
            <mi>
             d
            </mi>
            <mi>
             r
            </mi>
            <mi>
             i
            </mi>
            <mi>
             v
            </mi>
            <mi>
             e
            </mi>
           </mrow>
          </msub>
         </mrow>
         <mo>
          +
         </mo>
         <mrow>
          <msub>
           <mi>
            T
           </mi>
           <mrow>
            <mi>
             d
            </mi>
            <mi>
             i
            </mi>
            <mi>
             f
            </mi>
            <mi>
             f
            </mi>
            <mi mathvariant="normal">
             _
            </mi>
            <mi>
             r
            </mi>
           </mrow>
          </msub>
         </mrow>
        </mrow>
        <mo stretchy="false">
         )
        </mo>
        <mrow>
         <msub>
          <mi>
           ω
          </mi>
          <mn>
           4
          </mn>
         </msub>
        </mrow>
        <mo>
         +
        </mo>
        <mo stretchy="false">
         (
        </mo>
        <mrow>
         <mrow>
          <msub>
           <mi>
            T
           </mi>
           <mrow>
            <mi>
             d
            </mi>
            <mi>
             r
            </mi>
            <mi>
             i
            </mi>
            <mi>
             v
            </mi>
            <mi>
             e
            </mi>
           </mrow>
          </msub>
         </mrow>
         <mo>
          −
         </mo>
         <mrow>
          <msub>
           <mi>
            T
           </mi>
           <mrow>
            <mi>
             d
            </mi>
            <mi>
             i
            </mi>
            <mi>
             f
            </mi>
            <mi>
             f
            </mi>
            <mi mathvariant="normal">
             _
            </mi>
            <mi>
             r
            </mi>
           </mrow>
          </msub>
         </mrow>
        </mrow>
        <mo stretchy="false">
         )
        </mo>
        <mrow>
         <msub>
          <mi>
           ω
          </mi>
          <mn>
           3
          </mn>
         </msub>
        </mrow>
        <mo>
         ,
        </mo>
       </mtd>
      </mtr>
     </mtable>
    </math><span class="mathjaxLabel"><span class="disp_formula_label_div"><span id="M0003" class="disp-formula-label">(3) </span></span></span></span> <span class="NLM_disp-formula-image disp-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_m0004.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_m0004.gif&quot;}"><span class="mml-formula"><span class="disp_formula_label_div"><span id="M0004" class="disp-formula-label">(4) </span></span></span></span><span class="NLM_disp-formula disp-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mtable columnalign="right left right left right left right left right left right left" rowspacing="3pt" columnspacing="0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em" displaystyle="true">
      <mtr>
       <mtd>
        <mrow>
         <msub>
          <mi>
           P
          </mi>
          <mrow>
           <mi>
            r
           </mi>
           <mi>
            e
           </mi>
           <mi>
            g
           </mi>
           <mi>
            e
           </mi>
           <mi>
            n
           </mi>
          </mrow>
         </msub>
        </mrow>
       </mtd>
       <mtd>
        <mi></mi>
        <mo>
         =
        </mo>
        <mo stretchy="false">
         (
        </mo>
        <mrow>
         <mrow>
          <msub>
           <mi>
            k
           </mi>
           <mi>
            r
           </mi>
          </msub>
         </mrow>
         <mo stretchy="false">
          (
         </mo>
         <mrow>
          <mn>
           1
          </mn>
          <mo>
           −
          </mo>
          <mrow>
           <msub>
            <mi>
             k
            </mi>
            <mi>
             b
            </mi>
           </msub>
          </mrow>
         </mrow>
         <mo stretchy="false">
          )
         </mo>
         <mrow>
          <msub>
           <mi>
            T
           </mi>
           <mrow>
            <mi>
             b
            </mi>
            <mi>
             r
            </mi>
            <mi>
             a
            </mi>
            <mi>
             k
            </mi>
            <mi>
             e
            </mi>
           </mrow>
          </msub>
         </mrow>
         <mo>
          +
         </mo>
         <mrow>
          <msub>
           <mi>
            T
           </mi>
           <mrow>
            <mi>
             d
            </mi>
            <mi>
             i
            </mi>
            <mi>
             f
            </mi>
            <mrow>
             <msub>
              <mi>
               f
              </mi>
              <mi>
               r
              </mi>
             </msub>
            </mrow>
           </mrow>
          </msub>
         </mrow>
        </mrow>
        <mo stretchy="false">
         )
        </mo>
        <mrow>
         <msub>
          <mi>
           ω
          </mi>
          <mn>
           4
          </mn>
         </msub>
        </mrow>
        <mo>
         +
        </mo>
        <mo stretchy="false">
         (
        </mo>
        <mrow>
         <msub>
          <mi>
           k
          </mi>
          <mi>
           r
          </mi>
         </msub>
        </mrow>
        <mo stretchy="false">
         (
        </mo>
        <mrow>
         <mn>
          1
         </mn>
         <mo>
          −
         </mo>
         <mrow>
          <msub>
           <mi>
            k
           </mi>
           <mi>
            b
           </mi>
          </msub>
         </mrow>
        </mrow>
        <mo stretchy="false">
         )
        </mo>
        <mrow>
         <msub>
          <mi>
           T
          </mi>
          <mrow>
           <mi>
            b
           </mi>
           <mi>
            r
           </mi>
           <mi>
            a
           </mi>
           <mi>
            k
           </mi>
           <mi>
            e
           </mi>
          </mrow>
         </msub>
        </mrow>
        <mo>
         −
        </mo>
        <mrow>
         <msub>
          <mi>
           T
          </mi>
          <mrow>
           <mi>
            d
           </mi>
           <mi>
            i
           </mi>
           <mi>
            f
           </mi>
           <mi>
            f
           </mi>
           <mi mathvariant="normal">
            _
           </mi>
           <mi>
            r
           </mi>
          </mrow>
         </msub>
        </mrow>
        <mo stretchy="false">
         )
        </mo>
        <mrow>
         <msub>
          <mi>
           ω
          </mi>
          <mn>
           3
          </mn>
         </msub>
        </mrow>
       </mtd>
      </mtr>
     </mtable>
    </math><span class="mathjaxLabel"><span class="disp_formula_label_div"><span id="M0004" class="disp-formula-label">(4) </span></span></span></span>in which <span class="NLM_disp-formula-image inline-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0006.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0006.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mrow>
      <msub>
       <mi>
        k
       </mi>
       <mi>
        r
       </mi>
      </msub>
     </mrow>
    </math></span> denotes the portion of regenerative brake in total brake torque, <span class="NLM_disp-formula-image inline-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0007.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0007.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mrow>
      <msub>
       <mi>
        k
       </mi>
       <mi>
        b
       </mi>
      </msub>
     </mrow>
    </math></span> is the brake bias to the front, <span class="NLM_disp-formula-image inline-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0008.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0008.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mrow>
      <msub>
       <mi>
        T
       </mi>
       <mrow>
        <mi>
         d
        </mi>
        <mi>
         r
        </mi>
        <mi>
         i
        </mi>
        <mi>
         v
        </mi>
        <mi>
         e
        </mi>
       </mrow>
      </msub>
     </mrow>
    </math></span> and <span class="NLM_disp-formula-image inline-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0009.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0009.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mrow>
      <msub>
       <mi>
        T
       </mi>
       <mrow>
        <mi>
         b
        </mi>
        <mi>
         r
        </mi>
        <mi>
         a
        </mi>
        <mi>
         k
        </mi>
        <mi>
         e
        </mi>
       </mrow>
      </msub>
     </mrow>
    </math></span> are drive torque from the motor brake torque generated by the calliper or the motor regeneration, <span class="NLM_disp-formula-image inline-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0010.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0010.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mrow>
      <msub>
       <mi>
        ω
       </mi>
       <mn>
        3
       </mn>
      </msub>
     </mrow>
    </math></span> and <span class="NLM_disp-formula-image inline-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0011.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0011.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mrow>
      <msub>
       <mi>
        ω
       </mi>
       <mn>
        4
       </mn>
      </msub>
     </mrow>
    </math></span> are the rotational speeds of rear right and left wheels, respectively, <span class="NLM_disp-formula-image inline-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0012.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0012.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mrow>
      <msub>
       <mi>
        T
       </mi>
       <mrow>
        <mi>
         d
        </mi>
        <mi>
         i
        </mi>
        <mi>
         f
        </mi>
        <mi>
         f
        </mi>
        <mi mathvariant="normal">
         _
        </mi>
        <mi>
         r
        </mi>
       </mrow>
      </msub>
     </mrow>
    </math></span> is the LSD torque transferred from the faster-rotating wheel to the slower wheel. It should be noted that <span class="NLM_disp-formula-image inline-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0013.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0013.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mrow>
      <msub>
       <mi>
        P
       </mi>
       <mrow>
        <mi>
         d
        </mi>
        <mi>
         r
        </mi>
        <mi>
         i
        </mi>
        <mi>
         v
        </mi>
        <mi>
         e
        </mi>
       </mrow>
      </msub>
     </mrow>
    </math></span> is also given an upper limit based on the power mode, which will be explained in the next section. This reference generation procedure of a single-car scenario is thoroughly explained in [<span class="ref-lnk lazy-ref"><a data-rid="CIT0027" data-reflink="_i38 _i39" href="#"><span class="off-screen">Citation</span>27</a></span>] thus, it is not detailed here. The track layout and example trajectories are shown in Figure&nbsp;<a href="#F0002">2</a>.</p>
  <div class="figure figureViewer" id="F0002">
   <div class="hidden figureViewerArticleInfo">
    <span class="figViewerTitle">Energy-optimal overtaking manoeuvres of Formula-E cars</span>
    <div class="articleAuthors articleInfoSection">
     <div class="authorsHeading">
      All authors
     </div>
     <div class="authors">
      <a class="entryAuthor" href="/action/doSearch?Contrib=Liu%2C+Xuze"><span class="hlFld-ContribAuthor"></span></a><a href="/author/Liu%2C+Xuze"><span class="NLM_given-names">Xuze</span> Liu</a> <a href="https://orcid.org/0000-0002-2908-2738"><img src="/templates/jsp/images/orcid.png"></a>, <a class="entryAuthor" href="/action/doSearch?Contrib=Fotouhi%2C+Abbas"><span class="hlFld-ContribAuthor"></span></a><a href="/author/Fotouhi%2C+Abbas"><span class="NLM_given-names">Abbas</span> Fotouhi</a> <a href="https://orcid.org/0000-0002-5402-8629"><img src="/templates/jsp/images/orcid.png"></a> &amp; <a class="entryAuthor" href="/action/doSearch?Contrib=Auger%2C+Daniel+J"><span class="hlFld-ContribAuthor"></span></a><a href="/author/Auger%2C+Daniel+J"><span class="NLM_given-names">Daniel J.</span> Auger</a> <a href="https://orcid.org/0000-0002-6199-4251"><img src="/templates/jsp/images/orcid.png"></a>
     </div>
    </div>
    <div class="articleLowerInfo articleInfoSection">
     <div class="articleLowerInfoSection articleInfoDOI">
      <a href="https://doi.org/10.1080/00423114.2022.2096082">https://doi.org/10.1080/00423114.2022.2096082</a>
     </div>
     <div class="articleInfoPublicationDate articleLowerInfoSection border">
      <h6>Published online:</h6>11 July 2022
     </div>
    </div>
   </div>
   <div class="figureThumbnailContainer">
    <div class="figureInfo">
     <div class="short-legend">
      <p class="captionText"><span class="captionLabel">Figure 2. </span> Track layout and trajectory examples: (a) track layout and (b) enlarged block A.</p>
     </div>
    </div><a href="#" class="thumbnail" aria-label="thumbnail image"><img id="F0002image" src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/medium/nvsd_a_2096082_f0002_oc.jpg" loading="lazy" height="208" width="500"></a>
    <div class="figureDownloadOptions">
     <a href="#" class="downloadBtn btn btn-sm" role="button">Display full size</a>
    </div>
   </div>
  </div>
  <div class="hidden rs_skip" id="fig-description-F0002">
   <p class="captionText"><span class="captionLabel">Figure 2. </span> Track layout and trajectory examples: (a) track layout and (b) enlarged block A.</p>
  </div>
  <div class="hidden rs_skip" id="figureFootNote-F0002">
   <div class="figureFootNote-F0002"></div>
  </div>
  <p></p>
  <p>The blockedzone&nbsp;on the upper side of the track in Figure&nbsp;<a href="#F0002">2</a>(b) is called the activation zone, which is a unique feature in Formula-E races. This will also be explained in the next section. To avoid confusion in the following sections in this paper, the ‘reference car’ will be referred to as the target car and the car attempting to overtake will be called the ‘actor car’.</p>
 </div>
 <div id="S002-S2002" class="NLM_sec NLM_sec_level_2">
  <h3 class="section-heading-3" id="_i11">2.2. Overtaking opportunities</h3>
  <p>A successful overtaking is a result of the actor car’s speed advantage over the target car. In Formula-E, the speed advantage comes from two main causes (neglecting human errors and car failure). The first one is from different EPL targets between the actor and the target car. As is previously shown in Figure&nbsp;<a href="#F0001">1</a>, when the actor car is given a higher EPL, it is allowed to achieve higher speed with less LaC to execute. This speed advantage will lead to potential overtaking opportunities when the target car is doing LaC and the actor car is allowed to further accelerate. The second way to create speed advantages is to use higher propulsion power. This is a unique feature of Formula-E races. The technical regulation [<span class="ref-lnk lazy-ref"><a data-rid="CIT0019" data-reflink="_i38 _i39" href="#"><span class="off-screen">Citation</span>19</a></span>] of FE states that during a race, the maximum propulsion power is limited to 200 kW in Race Mode settings. Beyond that, teams are given options of activating ‘attack mode’ for a certain amount of time (typically around two laps) which gives an extra power of 50 kW using this mode. To activate the attack mode, cars need to drive through the activation zone which is normally deviated from the normal race line. On the Marrakesh E-Prix track, it is the red zone shown in Figure&nbsp;<a href="#F0002">2</a>(b). After driving through the activation zone, the power limit is raised to 250 kW allowing the actor car to chase the target car in a more aggressive way. Such lap will be referred to as ‘activation lap’ later in this paper. In the second lap after activating the attack mode, the car does not have to drive through the activation zone again to keep using the 250 kW attack mode. It also should be noted that when the target car needs to drive through the activation zone, it clears out the normal race line, which also becomes a potential overtaking opportunity. This will be shown in the result section.</p>
 </div>
 <div id="S002-S2003" class="NLM_sec NLM_sec_level_2">
  <h3 class="section-heading-3" id="_i12">2.3. Collision constraint</h3>
  <p>Speed advantages do not necessarily lead to a successful overtaking due to the existence of the target car on the track which changes the trajectory space. Apart from the track bounds, the actor trajectory must not cause a collision with the target car. In the application of autonomous vehicles trajectory planning, multi-vehicle collision avoidance is usually treated as a soft constraint of which the collision-avoidance cost is minimised each step in the optimisation horizon [<span class="ref-lnk lazy-ref"><a data-rid="CIT0033" data-reflink="_i38 _i39" href="#"><span class="off-screen">Citation</span>33</a></span>]. In motorsport, lap time or energy is the sole cost to minimise. Adding a collision-avoidance cost in the step cost function will compromise the optimality of the solution of either time or energy. Therefore, in this study, the collision constraint will be treated as a hard constraint.</p>
  <p>Two main assumptions are accounted for when formulating this constraint. Firstly, the target car trajectory does not change inside every single case. This mainly accounts for the fact in real life motorsport that no driver would give up the optimal line to initiatively avoid collision when an opponent is trying to overtake. This is different from cooperative autonomous trajectory planning [<span class="ref-lnk lazy-ref"><a data-rid="CIT0034" data-reflink="_i38 _i39" href="#"><span class="off-screen">Citation</span>34</a></span>] where the trajectories of each car are optimised simultaneously and cooperatively to avoid the collision. The second assumption is that the actor car is allowed to overlap the target car trajectory once it gains the longitudinal position advantage greater than zero. The main reason for this ‘collision neglecting’ assumption is to consider the priority on the track. Once the actor passes the abreast position with the target car, it is given the priority of manoeuvre and the overtaken target car becomes responsible for collision avoidance. This is usually referred to as ‘blocking’ or ‘defending’ position in motorsport. Based on these two assumptions, the collision constraint used in this study is illustrated in Figure&nbsp;<a href="#F0003">3</a>.</p>
  <div class="figure figureViewer" id="F0003">
   <div class="hidden figureViewerArticleInfo">
    <span class="figViewerTitle">Energy-optimal overtaking manoeuvres of Formula-E cars</span>
    <div class="articleAuthors articleInfoSection">
     <div class="authorsHeading">
      All authors
     </div>
     <div class="authors">
      <a class="entryAuthor" href="/action/doSearch?Contrib=Liu%2C+Xuze"><span class="hlFld-ContribAuthor"></span></a><a href="/author/Liu%2C+Xuze"><span class="NLM_given-names">Xuze</span> Liu</a> <a href="https://orcid.org/0000-0002-2908-2738"><img src="/templates/jsp/images/orcid.png"></a>, <a class="entryAuthor" href="/action/doSearch?Contrib=Fotouhi%2C+Abbas"><span class="hlFld-ContribAuthor"></span></a><a href="/author/Fotouhi%2C+Abbas"><span class="NLM_given-names">Abbas</span> Fotouhi</a> <a href="https://orcid.org/0000-0002-5402-8629"><img src="/templates/jsp/images/orcid.png"></a> &amp; <a class="entryAuthor" href="/action/doSearch?Contrib=Auger%2C+Daniel+J"><span class="hlFld-ContribAuthor"></span></a><a href="/author/Auger%2C+Daniel+J"><span class="NLM_given-names">Daniel J.</span> Auger</a> <a href="https://orcid.org/0000-0002-6199-4251"><img src="/templates/jsp/images/orcid.png"></a>
     </div>
    </div>
    <div class="articleLowerInfo articleInfoSection">
     <div class="articleLowerInfoSection articleInfoDOI">
      <a href="https://doi.org/10.1080/00423114.2022.2096082">https://doi.org/10.1080/00423114.2022.2096082</a>
     </div>
     <div class="articleInfoPublicationDate articleLowerInfoSection border">
      <h6>Published online:</h6>11 July 2022
     </div>
    </div>
   </div>
   <div class="figureThumbnailContainer">
    <div class="figureInfo">
     <div class="short-legend">
      <p class="captionText"><span class="captionLabel">Figure 3. </span> Collision exclusive zone.</p>
     </div>
    </div><a href="#" class="thumbnail" aria-label="thumbnail image"><img id="F0003image" src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/medium/nvsd_a_2096082_f0003_oc.jpg" loading="lazy" height="271" width="500"></a>
    <div class="figureDownloadOptions">
     <a href="#" class="downloadBtn btn btn-sm" role="button">Display full size</a>
    </div>
   </div>
  </div>
  <div class="hidden rs_skip" id="fig-description-F0003">
   <p class="captionText"><span class="captionLabel">Figure 3. </span> Collision exclusive zone.</p>
  </div>
  <div class="hidden rs_skip" id="figureFootNote-F0003">
   <div class="figureFootNote-F0003"></div>
  </div>
  <p></p>
  <p>Different from the majority of collision-avoidance research that uses quadratic distance (i.e. a circle) to describe the collision exclusive zone [<span class="ref-lnk lazy-ref"><a data-rid="CIT0035" data-reflink="_i38 _i39" href="#"><span class="off-screen">Citation</span>35</a></span>], in this study the zone is rectangular with the front edge starting from the centre of the target car. The length of the rectangle is the same length as the car and the width is twice the car width laterally symmetrical about the target car centre. There are two main reasons to do so. First, it is to ensure a precise description of the collision zone so that no track space is overlooked which might lead to potential overtaking opportunities. Second, starting the front edge from the CG position of the target car aims to echo the second aforementioned main assumption that to overtake, the actor car only needs to pass the abreast position of the target car. The collision constraint is formulated as follows: <span class="NLM_disp-formula-image disp-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_m0005.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_m0005.gif&quot;}"><span class="mml-formula"><span class="disp_formula_label_div"><span id="M0005" class="disp-formula-label">(5) </span></span></span></span><span class="NLM_disp-formula disp-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mrow>
      <mo>
       {
      </mo>
      <mrow>
       <mtable rowspacing="4pt" columnspacing="1em">
        <mtr>
         <mtd>
          <mrow>
           <mrow>
            <msub>
             <mi>
              N
             </mi>
             <mrow>
              <mi>
               u
              </mi>
              <mi>
               p
              </mi>
              <mi>
               p
              </mi>
              <mi>
               e
              </mi>
              <mi>
               r
              </mi>
             </mrow>
            </msub>
           </mrow>
           <mo>
            −
           </mo>
           <mrow>
            <msub>
             <mi>
              n
             </mi>
             <mi>
              A
             </mi>
            </msub>
           </mrow>
           <mo>
            &gt;
           </mo>
           <mn>
            0
           </mn>
           <mo>
            ,
           </mo>
          </mrow>
         </mtd>
        </mtr>
        <mtr>
         <mtd>
          <mrow>
           <mrow>
            <msub>
             <mi>
              n
             </mi>
             <mi>
              A
             </mi>
            </msub>
           </mrow>
           <mo>
            −
           </mo>
           <mrow>
            <msub>
             <mi>
              N
             </mi>
             <mrow>
              <mi>
               l
              </mi>
              <mi>
               o
              </mi>
              <mi>
               w
              </mi>
              <mi>
               e
              </mi>
              <mi>
               r
              </mi>
             </mrow>
            </msub>
           </mrow>
           <mo>
            &gt;
           </mo>
           <mn>
            0
           </mn>
           <mo>
            ,
           </mo>
          </mrow>
         </mtd>
        </mtr>
       </mtable>
      </mrow>
      <mo fence="true" stretchy="true" symmetric="true"></mo>
     </mrow>
    </math><span class="mathjaxLabel"><span class="disp_formula_label_div"><span id="M0005" class="disp-formula-label">(5) </span></span></span></span>where the lateral boundaries <span class="NLM_disp-formula-image inline-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0014.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0014.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mrow>
      <msub>
       <mi>
        N
       </mi>
       <mrow>
        <mi>
         u
        </mi>
        <mi>
         p
        </mi>
        <mi>
         p
        </mi>
        <mi>
         e
        </mi>
        <mi>
         r
        </mi>
       </mrow>
      </msub>
     </mrow>
    </math></span> and <span class="NLM_disp-formula-image inline-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0015.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0015.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mrow>
      <msub>
       <mi>
        N
       </mi>
       <mrow>
        <mi>
         l
        </mi>
        <mi>
         o
        </mi>
        <mi>
         w
        </mi>
        <mi>
         e
        </mi>
        <mi>
         r
        </mi>
       </mrow>
      </msub>
     </mrow>
    </math></span> are given by <span class="NLM_disp-formula-image disp-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_m0006.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_m0006.gif&quot;}"><span class="mml-formula"><span class="disp_formula_label_div"><span id="M0006" class="disp-formula-label">(6) </span></span></span></span><span class="NLM_disp-formula disp-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mtable columnalign="right left right left right left right left right left right left" rowspacing="3pt" columnspacing="0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em" displaystyle="true">
      <mtr>
       <mtd>
        <mrow>
         <msub>
          <mi>
           N
          </mi>
          <mrow>
           <mi>
            u
           </mi>
           <mi>
            p
           </mi>
           <mi>
            p
           </mi>
           <mi>
            e
           </mi>
           <mi>
            r
           </mi>
          </mrow>
         </msub>
        </mrow>
       </mtd>
       <mtd>
        <mi></mi>
        <mo>
         =
        </mo>
        <mrow>
         <mo>
          {
         </mo>
         <mrow>
          <mtable columnalign="center center" rowspacing="4pt" columnspacing="1em">
           <mtr>
            <mtd>
             <mrow>
              <mn>
               0.5
              </mn>
              <mrow>
               <msub>
                <mi>
                 w
                </mi>
                <mrow>
                 <mi>
                  r
                 </mi>
                 <mi>
                  o
                 </mi>
                 <mi>
                  a
                 </mi>
                 <mi>
                  d
                 </mi>
                </mrow>
               </msub>
              </mrow>
             </mrow>
            </mtd>
            <mtd>
             <mrow>
              <mrow>
               <mtext>
                if
               </mtext>
              </mrow>
              <mspace width="thinmathspace"></mspace>
              <mrow>
               <msub>
                <mi>
                 n
                </mi>
                <mi>
                 T
                </mi>
               </msub>
              </mrow>
              <mo>
               &gt;
              </mo>
              <mrow>
               <msub>
                <mi>
                 n
                </mi>
                <mi>
                 A
                </mi>
               </msub>
              </mrow>
              <mo>
               ,
              </mo>
             </mrow>
            </mtd>
           </mtr>
           <mtr>
            <mtd>
             <mtable rowspacing="4pt" columnspacing="1em">
              <mtr>
               <mtd>
                <mn>
                 0.5
                </mn>
                <mrow>
                 <msub>
                  <mi>
                   w
                  </mi>
                  <mrow>
                   <mi>
                    r
                   </mi>
                   <mi>
                    o
                   </mi>
                   <mi>
                    a
                   </mi>
                   <mi>
                    d
                   </mi>
                  </mrow>
                 </msub>
                </mrow>
                <mo>
                 +
                </mo>
                <mo stretchy="false">
                 (
                </mo>
                <mrow>
                 <mrow>
                  <msub>
                   <mi>
                    w
                   </mi>
                   <mrow>
                    <mi>
                     c
                    </mi>
                    <mi>
                     a
                    </mi>
                    <mi>
                     r
                    </mi>
                   </mrow>
                  </msub>
                 </mrow>
                 <mo>
                  +
                 </mo>
                 <mn>
                  0.5
                 </mn>
                 <mrow>
                  <msub>
                   <mi>
                    w
                   </mi>
                   <mrow>
                    <mi>
                     r
                    </mi>
                    <mi>
                     o
                    </mi>
                    <mi>
                     a
                    </mi>
                    <mi>
                     d
                    </mi>
                   </mrow>
                  </msub>
                 </mrow>
                 <mo>
                  −
                 </mo>
                 <mrow>
                  <msub>
                   <mi>
                    n
                   </mi>
                   <mi>
                    A
                   </mi>
                  </msub>
                 </mrow>
                </mrow>
                <mo stretchy="false">
                 )
                </mo>
               </mtd>
              </mtr>
              <mtr>
               <mtd>
                <mo stretchy="false">
                 (
                </mo>
                <mrow>
                 <mi>
                  H
                 </mi>
                 <mo stretchy="false">
                  (
                 </mo>
                 <mrow>
                  <mrow>
                   <msub>
                    <mi>
                     s
                    </mi>
                    <mi>
                     A
                    </mi>
                   </msub>
                  </mrow>
                  <mo>
                   −
                  </mo>
                  <mrow>
                   <msub>
                    <mi>
                     s
                    </mi>
                    <mi>
                     T
                    </mi>
                   </msub>
                  </mrow>
                 </mrow>
                 <mo stretchy="false">
                  )
                 </mo>
                 <mo>
                  +
                 </mo>
                 <mi>
                  H
                 </mi>
                 <mo stretchy="false">
                  (
                 </mo>
                 <mrow>
                  <mrow>
                   <msub>
                    <mi>
                     s
                    </mi>
                    <mi>
                     A
                    </mi>
                   </msub>
                  </mrow>
                  <mo>
                   −
                  </mo>
                  <mrow>
                   <msub>
                    <mi>
                     s
                    </mi>
                    <mi>
                     T
                    </mi>
                   </msub>
                  </mrow>
                  <mo>
                   +
                  </mo>
                  <mrow>
                   <msub>
                    <mi>
                     l
                    </mi>
                    <mrow>
                     <mi>
                      c
                     </mi>
                     <mi>
                      a
                     </mi>
                     <mi>
                      r
                     </mi>
                    </mrow>
                   </msub>
                  </mrow>
                 </mrow>
                 <mo stretchy="false">
                  )
                 </mo>
                </mrow>
                <mo stretchy="false">
                 )
                </mo>
               </mtd>
              </mtr>
             </mtable>
            </mtd>
            <mtd>
             <mrow>
              <mrow>
               <mtext>
                if&nbsp;
               </mtext>
              </mrow>
              <mrow>
               <msub>
                <mi>
                 n
                </mi>
                <mi>
                 T
                </mi>
               </msub>
              </mrow>
              <mo>
               ≤
              </mo>
              <mrow>
               <msub>
                <mi>
                 n
                </mi>
                <mi>
                 A
                </mi>
               </msub>
              </mrow>
              <mo>
               ,
              </mo>
             </mrow>
            </mtd>
           </mtr>
          </mtable>
         </mrow>
         <mo fence="true" stretchy="true" symmetric="true"></mo>
        </mrow>
       </mtd>
      </mtr>
     </mtable>
    </math><span class="mathjaxLabel"><span class="disp_formula_label_div"><span id="M0006" class="disp-formula-label">(6) </span></span></span></span> <span class="NLM_disp-formula-image disp-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_m0007.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_m0007.gif&quot;}"><span class="mml-formula"><span class="disp_formula_label_div"><span id="M0007" class="disp-formula-label">(7) </span></span></span></span><span class="NLM_disp-formula disp-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mtable columnalign="right left right left right left right left right left right left" rowspacing="3pt" columnspacing="0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em" displaystyle="true">
      <mtr>
       <mtd>
        <mrow>
         <msub>
          <mi>
           N
          </mi>
          <mrow>
           <mi>
            l
           </mi>
           <mi>
            o
           </mi>
           <mi>
            w
           </mi>
           <mi>
            e
           </mi>
           <mi>
            r
           </mi>
          </mrow>
         </msub>
        </mrow>
       </mtd>
       <mtd>
        <mi></mi>
        <mo>
         =
        </mo>
        <mrow>
         <mo>
          {
         </mo>
         <mrow>
          <mtable columnalign="center center" rowspacing="4pt" columnspacing="1em">
           <mtr>
            <mtd>
             <mtable rowspacing="4pt" columnspacing="1em">
              <mtr>
               <mtd>
                <mn>
                 0.5
                </mn>
                <mrow>
                 <msub>
                  <mi>
                   w
                  </mi>
                  <mrow>
                   <mi>
                    r
                   </mi>
                   <mi>
                    o
                   </mi>
                   <mi>
                    a
                   </mi>
                   <mi>
                    d
                   </mi>
                  </mrow>
                 </msub>
                </mrow>
                <mo>
                 −
                </mo>
                <mo stretchy="false">
                 (
                </mo>
                <mrow>
                 <mrow>
                  <msub>
                   <mi>
                    w
                   </mi>
                   <mrow>
                    <mi>
                     c
                    </mi>
                    <mi>
                     a
                    </mi>
                    <mi>
                     r
                    </mi>
                   </mrow>
                  </msub>
                 </mrow>
                 <mo>
                  +
                 </mo>
                 <mn>
                  0.5
                 </mn>
                 <mrow>
                  <msub>
                   <mi>
                    w
                   </mi>
                   <mrow>
                    <mi>
                     r
                    </mi>
                    <mi>
                     o
                    </mi>
                    <mi>
                     a
                    </mi>
                    <mi>
                     d
                    </mi>
                   </mrow>
                  </msub>
                 </mrow>
                 <mo>
                  +
                 </mo>
                 <mrow>
                  <msub>
                   <mi>
                    n
                   </mi>
                   <mi>
                    A
                   </mi>
                  </msub>
                 </mrow>
                </mrow>
                <mo stretchy="false">
                 )
                </mo>
               </mtd>
              </mtr>
              <mtr>
               <mtd>
                <mo stretchy="false">
                 (
                </mo>
                <mrow>
                 <mi>
                  H
                 </mi>
                 <mo stretchy="false">
                  (
                 </mo>
                 <mrow>
                  <mrow>
                   <msub>
                    <mi>
                     s
                    </mi>
                    <mi>
                     A
                    </mi>
                   </msub>
                  </mrow>
                  <mo>
                   −
                  </mo>
                  <mrow>
                   <msub>
                    <mi>
                     s
                    </mi>
                    <mi>
                     T
                    </mi>
                   </msub>
                  </mrow>
                 </mrow>
                 <mo stretchy="false">
                  )
                 </mo>
                 <mo>
                  +
                 </mo>
                 <mi>
                  H
                 </mi>
                 <mo stretchy="false">
                  (
                 </mo>
                 <mrow>
                  <mrow>
                   <msub>
                    <mi>
                     s
                    </mi>
                    <mi>
                     A
                    </mi>
                   </msub>
                  </mrow>
                  <mo>
                   −
                  </mo>
                  <mrow>
                   <msub>
                    <mi>
                     s
                    </mi>
                    <mi>
                     T
                    </mi>
                   </msub>
                  </mrow>
                  <mo>
                   +
                  </mo>
                  <mrow>
                   <msub>
                    <mi>
                     l
                    </mi>
                    <mrow>
                     <mi>
                      c
                     </mi>
                     <mi>
                      a
                     </mi>
                     <mi>
                      r
                     </mi>
                    </mrow>
                   </msub>
                  </mrow>
                 </mrow>
                 <mo stretchy="false">
                  )
                 </mo>
                </mrow>
                <mo stretchy="false">
                 )
                </mo>
               </mtd>
              </mtr>
             </mtable>
            </mtd>
            <mtd>
             <mrow>
              <mrow>
               <mtext>
                if
               </mtext>
              </mrow>
              <mspace width="thinmathspace"></mspace>
              <mrow>
               <msub>
                <mi>
                 n
                </mi>
                <mi>
                 T
                </mi>
               </msub>
              </mrow>
              <mo>
               &gt;
              </mo>
              <mrow>
               <msub>
                <mi>
                 n
                </mi>
                <mi>
                 A
                </mi>
               </msub>
              </mrow>
              <mo>
               ,
              </mo>
             </mrow>
            </mtd>
           </mtr>
           <mtr>
            <mtd>
             <mrow>
              <mn>
               0.5
              </mn>
              <mrow>
               <msub>
                <mi>
                 w
                </mi>
                <mrow>
                 <mi>
                  r
                 </mi>
                 <mi>
                  o
                 </mi>
                 <mi>
                  a
                 </mi>
                 <mi>
                  d
                 </mi>
                </mrow>
               </msub>
              </mrow>
             </mrow>
            </mtd>
            <mtd>
             <mrow>
              <mrow>
               <mtext>
                if&nbsp;
               </mtext>
              </mrow>
              <mrow>
               <msub>
                <mi>
                 n
                </mi>
                <mi>
                 T
                </mi>
               </msub>
              </mrow>
              <mo>
               ≤
              </mo>
              <mrow>
               <msub>
                <mi>
                 n
                </mi>
                <mi>
                 A
                </mi>
               </msub>
              </mrow>
              <mo>
               ,
              </mo>
             </mrow>
            </mtd>
           </mtr>
          </mtable>
         </mrow>
         <mo fence="true" stretchy="true" symmetric="true"></mo>
        </mrow>
       </mtd>
      </mtr>
     </mtable>
    </math><span class="mathjaxLabel"><span class="disp_formula_label_div"><span id="M0007" class="disp-formula-label">(7) </span></span></span></span>where <span class="NLM_disp-formula-image inline-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0016.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0016.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mi>
      s
     </mi>
    </math></span> and <span class="NLM_disp-formula-image inline-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0017.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0017.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mi>
      n
     </mi>
    </math></span> are the longitudinal and lateral position of a car on the track based on the curvilinear coordinate system. The subscripts <span class="NLM_disp-formula-image inline-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0018.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0018.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mi>
      A
     </mi>
    </math></span> and <span class="NLM_disp-formula-image inline-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0019.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0019.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mi>
      T
     </mi>
    </math></span> denote the actor car and the target car, respectively. <span class="NLM_disp-formula-image inline-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0020.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0020.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mrow>
      <msub>
       <mi>
        w
       </mi>
       <mrow>
        <mi>
         c
        </mi>
        <mi>
         a
        </mi>
        <mi>
         r
        </mi>
       </mrow>
      </msub>
     </mrow>
    </math></span> and <span class="NLM_disp-formula-image inline-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0021.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0021.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mrow>
      <msub>
       <mi>
        l
       </mi>
       <mrow>
        <mi>
         c
        </mi>
        <mi>
         a
        </mi>
        <mi>
         r
        </mi>
       </mrow>
      </msub>
     </mrow>
    </math></span> are the car width and length. <span class="NLM_disp-formula-image inline-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0022.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0022.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mrow>
      <msub>
       <mi>
        w
       </mi>
       <mrow>
        <mi>
         r
        </mi>
        <mi>
         o
        </mi>
        <mi>
         a
        </mi>
        <mi>
         d
        </mi>
       </mrow>
      </msub>
     </mrow>
    </math></span> is the road width. The function <span class="NLM_disp-formula-image inline-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0023.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0023.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mi>
      H
     </mi>
    </math></span> is the Heaviside step function.</p>
  <p>Both upper bound <span class="NLM_disp-formula-image inline-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0024.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0024.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mrow>
      <msub>
       <mi>
        N
       </mi>
       <mrow>
        <mi>
         u
        </mi>
        <mi>
         p
        </mi>
        <mi>
         p
        </mi>
        <mi>
         e
        </mi>
        <mi>
         r
        </mi>
       </mrow>
      </msub>
     </mrow>
    </math></span> and lower bound <span class="NLM_disp-formula-image inline-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0025.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0025.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mrow>
      <msub>
       <mi>
        N
       </mi>
       <mrow>
        <mi>
         l
        </mi>
        <mi>
         o
        </mi>
        <mi>
         w
        </mi>
        <mi>
         e
        </mi>
        <mi>
         r
        </mi>
       </mrow>
      </msub>
     </mrow>
    </math></span> are based on the half road width. The relative lateral position <span class="NLM_disp-formula-image inline-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0026.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0026.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mrow>
      <msub>
       <mi>
        n
       </mi>
       <mi>
        A
       </mi>
      </msub>
     </mrow>
    </math></span> and <span class="NLM_disp-formula-image inline-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0027.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0027.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mrow>
      <msub>
       <mi>
        n
       </mi>
       <mi>
        T
       </mi>
      </msub>
     </mrow>
    </math></span> determines whether to add an offset (second) term to shift one side of the boundary to the opposite side of the rectangular zone and form a passage with the other boundary. As shown in Figure&nbsp;<a href="#F0003">3</a>(b), if the actor car <span class="NLM_disp-formula-image inline-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0028.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0028.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mi>
      M
     </mi><mrow>
      <msub>
       <mi>
        C
       </mi>
       <mi>
        A
       </mi>
      </msub>
     </mrow>
    </math></span> is on the right-hand side of the target car <span class="NLM_disp-formula-image inline-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0029.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0029.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mi>
      M
     </mi><mrow>
      <msub>
       <mi>
        C
       </mi>
       <mi>
        T
       </mi>
      </msub>
     </mrow>
    </math></span>, then the upper bound becomes the red dash line while the lower bound remains as the blue dash line. These two dash lines form the diamond filled area which is passable in this scenario. Vice versa, if the actor car <span class="NLM_disp-formula-image inline-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0030.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0030.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mi>
      M
     </mi><mrow>
      <msub>
       <mi>
        C
       </mi>
       <mi>
        A
       </mi>
      </msub>
     </mrow>
    </math></span> is on the left-hand side of the target car <span class="NLM_disp-formula-image inline-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0031.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0031.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mi>
      M
     </mi><mrow>
      <msub>
       <mi>
        C
       </mi>
       <mi>
        T
       </mi>
      </msub>
     </mrow>
    </math></span>, then boundaries become the red and blue dot lines making the diagonal area passable. The collision constraint is active only when the actor car is within one car length behind the target car. If the actor car is further behind or has passed the abreast position, the constraint functions as normal road boundaries.</p>
 </div>
</div>
<div id="S003" class="NLM_sec NLM_sec_level_1">
 <h2 id="_i17" class="section-heading-2">3. OCP formulation</h2>
 <p>The OCP is formulated in order to solve the problem of minimising the cost function in Bolza form, that is <span class="NLM_disp-formula-image disp-formula rs_preserve">
   <noscript>
    <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_m0008.gif" alt="">
   </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_m0008.gif&quot;}"><span class="mml-formula"><span class="disp_formula_label_div"><span id="M0008" class="disp-formula-label">(8) </span></span></span></span><span class="NLM_disp-formula disp-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
   <math>
    <mi>
     J
    </mi><mo>
     =
    </mo><mi mathvariant="normal">
     ∅
    </mi><mo stretchy="false">
     (
    </mo><mrow>
     <mrow>
      <msub>
       <mi>
        t
       </mi>
       <mn>
        0
       </mn>
      </msub>
     </mrow>
     <mo>
      ,
     </mo>
     <mi>
      x
     </mi>
     <mo stretchy="false">
      (
     </mo>
     <mrow>
      <msub>
       <mi>
        t
       </mi>
       <mn>
        0
       </mn>
      </msub>
     </mrow>
    </mrow><mo stretchy="false">
     )
    </mo><mo>
     ,
    </mo><mrow>
     <msub>
      <mi>
       t
      </mi>
      <mi>
       f
      </mi>
     </msub>
    </mrow><mo>
     ,
    </mo><mi>
     x
    </mi><mo stretchy="false">
     (
    </mo><mrow>
     <mrow>
      <msub>
       <mi>
        t
       </mi>
       <mi>
        f
       </mi>
      </msub>
     </mrow>
    </mrow><mo stretchy="false">
     )
    </mo><mo>
     ,
    </mo><mi>
     p
    </mi><mo stretchy="false">
     )
    </mo><mo>
     +
    </mo><msubsup>
     <mo>
      ∫
     </mo>
     <mrow>
      <mrow>
       <msub>
        <mi>
         t
        </mi>
        <mn>
         0
        </mn>
       </msub>
      </mrow>
     </mrow>
     <mrow>
      <mrow>
       <msub>
        <mi>
         t
        </mi>
        <mi>
         f
        </mi>
       </msub>
      </mrow>
     </mrow>
    </msubsup><mrow>
     <mi>
      l
     </mi>
     <mo stretchy="false">
      (
     </mo>
     <mrow>
      <mi>
       t
      </mi>
      <mo>
       ,
      </mo>
      <mi>
       x
      </mi>
      <mo stretchy="false">
       (
      </mo>
      <mi>
       t
      </mi>
      <mo stretchy="false">
       )
      </mo>
      <mo>
       ,
      </mo>
      <mi>
       u
      </mi>
      <mo stretchy="false">
       (
      </mo>
      <mi>
       t
      </mi>
      <mo stretchy="false">
       )
      </mo>
      <mo>
       ,
      </mo>
      <mi>
       p
      </mi>
     </mrow>
     <mo stretchy="false">
      )
     </mo>
     <mi>
      d
     </mi>
     <mi>
      t
     </mi>
    </mrow><mo>
     .
    </mo>
   </math><span class="mathjaxLabel"><span class="disp_formula_label_div"><span id="M0008" class="disp-formula-label">(8) </span></span></span></span>Which is subject to the constraints of <span class="NLM_disp-formula-image disp-formula rs_preserve">
   <noscript>
    <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_m0009.gif" alt="">
   </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_m0009.gif&quot;}"><span class="mml-formula"><span class="disp_formula_label_div"><span id="M0009" class="disp-formula-label">(9) </span></span></span></span><span class="NLM_disp-formula disp-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
   <math>
    <mrow>
     <mo>
      {
     </mo>
     <mrow>
      <mtable rowspacing="4pt" columnspacing="1em">
       <mtr>
        <mtd>
         <mrow>
          <mstyle displaystyle="true" scriptlevel="0">
           <mfrac>
            <mrow>
             <mi>
              d
             </mi>
             <mi>
              x
             </mi>
            </mrow>
            <mrow>
             <mi>
              d
             </mi>
             <mi>
              t
             </mi>
            </mrow>
           </mfrac>
          </mstyle>
          <mo>
           −
          </mo>
          <mi>
           f
          </mi>
          <mo stretchy="false">
           (
          </mo>
          <mrow>
           <mi>
            t
           </mi>
           <mo>
            ,
           </mo>
           <mi>
            x
           </mi>
           <mo stretchy="false">
            (
           </mo>
           <mi>
            t
           </mi>
           <mo stretchy="false">
            )
           </mo>
           <mo>
            ,
           </mo>
           <mi>
            u
           </mi>
           <mo stretchy="false">
            (
           </mo>
           <mi>
            t
           </mi>
           <mo stretchy="false">
            )
           </mo>
           <mo>
            ,
           </mo>
           <mi>
            p
           </mi>
          </mrow>
          <mo stretchy="false">
           )
          </mo>
          <mo>
           =
          </mo>
          <mn>
           0
          </mn>
          <mo>
           ,
          </mo>
         </mrow>
         <mrow>
          <mi>
           g
          </mi>
          <mo stretchy="false">
           (
          </mo>
          <mrow>
           <mi>
            t
           </mi>
           <mo>
            ,
           </mo>
           <mi>
            x
           </mi>
           <mo stretchy="false">
            (
           </mo>
           <mi>
            t
           </mi>
           <mo stretchy="false">
            )
           </mo>
           <mo>
            ,
           </mo>
           <mi>
            u
           </mi>
           <mo stretchy="false">
            (
           </mo>
           <mi>
            t
           </mi>
           <mo stretchy="false">
            )
           </mo>
           <mo>
            ,
           </mo>
           <mi>
            p
           </mi>
          </mrow>
          <mo stretchy="false">
           )
          </mo>
          <mo>
           =
          </mo>
          <mn>
           0
          </mn>
          <mo>
           ,
          </mo>
         </mrow>
        </mtd>
       </mtr>
       <mtr>
        <mtd>
         <mrow>
          <mi>
           h
          </mi>
          <mo stretchy="false">
           (
          </mo>
          <mrow>
           <mi>
            t
           </mi>
           <mo>
            ,
           </mo>
           <mi>
            x
           </mi>
           <mo stretchy="false">
            (
           </mo>
           <mi>
            t
           </mi>
           <mo stretchy="false">
            )
           </mo>
           <mo>
            ,
           </mo>
           <mi>
            u
           </mi>
           <mo stretchy="false">
            (
           </mo>
           <mi>
            t
           </mi>
           <mo stretchy="false">
            )
           </mo>
           <mo>
            ,
           </mo>
           <mi>
            p
           </mi>
          </mrow>
          <mo stretchy="false">
           )
          </mo>
          <mo>
           ≤
          </mo>
          <mn>
           0
          </mn>
          <mo>
           ,
          </mo>
         </mrow>
        </mtd>
       </mtr>
       <mtr>
        <mtd>
         <mrow>
          <mrow>
           <msub>
            <mi>
             g
            </mi>
            <mi>
             b
            </mi>
           </msub>
          </mrow>
          <mo stretchy="false">
           (
          </mo>
          <mrow>
           <mi>
            x
           </mi>
           <mo stretchy="false">
            (
           </mo>
           <mrow>
            <msub>
             <mi>
              t
             </mi>
             <mn>
              0
             </mn>
            </msub>
           </mrow>
          </mrow>
          <mo stretchy="false">
           )
          </mo>
          <mo>
           ,
          </mo>
          <mi>
           x
          </mi>
          <mo stretchy="false">
           (
          </mo>
          <mrow>
           <msub>
            <mi>
             t
            </mi>
            <mi>
             f
            </mi>
           </msub>
          </mrow>
          <mo stretchy="false">
           )
          </mo>
          <mo>
           ,
          </mo>
          <mi>
           u
          </mi>
          <mo stretchy="false">
           (
          </mo>
          <mrow>
           <msub>
            <mi>
             t
            </mi>
            <mn>
             0
            </mn>
           </msub>
          </mrow>
          <mo stretchy="false">
           )
          </mo>
          <mo>
           ,
          </mo>
          <mi>
           u
          </mi>
          <mo stretchy="false">
           (
          </mo>
          <mrow>
           <msub>
            <mi>
             t
            </mi>
            <mi>
             f
            </mi>
           </msub>
          </mrow>
          <mo stretchy="false">
           )
          </mo>
          <mo>
           ,
          </mo>
          <mi>
           p
          </mi>
          <mo stretchy="false">
           )
          </mo>
          <mo>
           =
          </mo>
          <mn>
           0
          </mn>
          <mo>
           ,
          </mo>
         </mrow>
        </mtd>
       </mtr>
      </mtable>
     </mrow>
     <mo fence="true" stretchy="true" symmetric="true"></mo>
    </mrow>
   </math><span class="mathjaxLabel"><span class="disp_formula_label_div"><span id="M0009" class="disp-formula-label">(9) </span></span></span></span>where the first term in Equation&nbsp;(29) is the Major (boundary) cost and the latter term is the Lagrange cost.</p>
 <p>In this formulation, <span class="NLM_disp-formula-image inline-formula rs_preserve">
   <noscript>
    <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0032.gif" alt="">
   </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0032.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
   <math>
    <mi>
     p
    </mi><mo>
     ∈
    </mo><mrow>
     <msup>
      <mi>
       R
      </mi>
      <mrow>
       <mrow>
        <msub>
         <mi>
          n
         </mi>
         <mi>
          p
         </mi>
        </msub>
       </mrow>
      </mrow>
     </msup>
    </mrow>
   </math></span> denotes the constant parameter vector of <span class="NLM_disp-formula-image inline-formula rs_preserve">
   <noscript>
    <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0033.gif" alt="">
   </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0033.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
   <math>
    <mrow>
     <msub>
      <mi>
       n
      </mi>
      <mi>
       p
      </mi>
     </msub>
    </mrow>
   </math></span> dimensions to be optimised, <span class="NLM_disp-formula-image inline-formula rs_preserve">
   <noscript>
    <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0034.gif" alt="">
   </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0034.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
   <math>
    <mi>
     x
    </mi><mo stretchy="false">
     (
    </mo><mi>
     t
    </mi><mo stretchy="false">
     )
    </mo><mo>
     ∈
    </mo><mrow>
     <msup>
      <mi>
       R
      </mi>
      <mi>
       n
      </mi>
     </msup>
    </mrow>
   </math></span> is the state vector and <span class="NLM_disp-formula-image inline-formula rs_preserve">
   <noscript>
    <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0035.gif" alt="">
   </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0035.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
   <math>
    <mi>
     u
    </mi><mo stretchy="false">
     (
    </mo><mi>
     t
    </mi><mo stretchy="false">
     )
    </mo><mo>
     ∈
    </mo><mrow>
     <msup>
      <mi>
       R
      </mi>
      <mi>
       m
      </mi>
     </msup>
    </mrow>
   </math></span> is the control vector. The system dynamics is described in the vector <span class="NLM_disp-formula-image inline-formula rs_preserve">
   <noscript>
    <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0036.gif" alt="">
   </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0036.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
   <math>
    <mi>
     f
    </mi><mo stretchy="false">
     (
    </mo><mrow>
     <mi>
      t
     </mi>
     <mo>
      ,
     </mo>
     <mi>
      x
     </mi>
     <mo stretchy="false">
      (
     </mo>
     <mi>
      t
     </mi>
     <mo stretchy="false">
      )
     </mo>
     <mo>
      ,
     </mo>
     <mi>
      u
     </mi>
     <mo stretchy="false">
      (
     </mo>
     <mi>
      t
     </mi>
     <mo stretchy="false">
      )
     </mo>
     <mo>
      ,
     </mo>
     <mi>
      p
     </mi>
    </mrow><mo stretchy="false">
     )
    </mo><mo>
     ∈
    </mo><mrow>
     <msup>
      <mi>
       R
      </mi>
      <mi>
       n
      </mi>
     </msup>
    </mrow>
   </math></span>. Vector <span class="NLM_disp-formula-image inline-formula rs_preserve">
   <noscript>
    <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0037.gif" alt="">
   </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0037.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
   <math>
    <mi>
     g
    </mi><mo>
     ∈
    </mo><mrow>
     <msup>
      <mi>
       R
      </mi>
      <mrow>
       <mrow>
        <msub>
         <mi>
          n
         </mi>
         <mi>
          g
         </mi>
        </msub>
       </mrow>
      </mrow>
     </msup>
    </mrow>
   </math></span> and <span class="NLM_disp-formula-image inline-formula rs_preserve">
   <noscript>
    <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0038.gif" alt="">
   </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0038.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
   <math>
    <mrow>
     <msub>
      <mi>
       g
      </mi>
      <mi>
       b
      </mi>
     </msub>
    </mrow><mo>
     ∈
    </mo><mrow>
     <msup>
      <mi>
       R
      </mi>
      <mrow>
       <mrow>
        <msub>
         <mi>
          n
         </mi>
         <mrow>
          <mi>
           g
          </mi>
          <mi>
           b
          </mi>
         </mrow>
        </msub>
       </mrow>
      </mrow>
     </msup>
    </mrow>
   </math></span> are the quality constraints and the constraints for the boundaries. The inequality constraints are defined in <span class="NLM_disp-formula-image inline-formula rs_preserve">
   <noscript>
    <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0039.gif" alt="">
   </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0039.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
   <math>
    <mi>
     h
    </mi><mo>
     ∈
    </mo><mrow>
     <msup>
      <mi>
       R
      </mi>
      <mrow>
       <mrow>
        <msub>
         <mi>
          n
         </mi>
         <mi>
          h
         </mi>
        </msub>
       </mrow>
      </mrow>
     </msup>
    </mrow>
   </math></span>.</p>
 <div id="S003-S2001" class="NLM_sec NLM_sec_level_2">
  <h3 class="section-heading-3" id="_i20">3.1. MTM and energy management</h3>
  <p>In Formula-E races, as previously introduced, energy management is one of the most crucial tasks in a race. Being faster or saving more energy is a dilemma and technically, there is no solution as ‘the fastest lap time with the lowest energy consumption’. In this study, the OCP is formulated in two ways for different analysis purposes. The first one is to find out the fastest lap time achievable with the presence of a target car in order to find possible overtaking opportunities along the full track length. The second one is to calculate the minimum energy required to perform a successful overtake.</p>
  <p>For the MTM problem, the cost function will only contain the Lagrange stage cost which&nbsp;is <span class="NLM_disp-formula-image disp-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_m0010.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_m0010.gif&quot;}"><span class="mml-formula"><span class="disp_formula_label_div"><span id="M0010" class="disp-formula-label">(10) </span></span></span></span><span class="NLM_disp-formula disp-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mrow>
      <msub>
       <mi>
        J
       </mi>
       <mrow>
        <mi>
         M
        </mi>
        <mi>
         T
        </mi>
        <mi>
         M
        </mi>
       </mrow>
      </msub>
     </mrow><mo>
      =
     </mo><msubsup>
      <mo>
       ∫
      </mo>
      <mrow>
       <mrow>
        <msub>
         <mi>
          s
         </mi>
         <mn>
          0
         </mn>
        </msub>
       </mrow>
      </mrow>
      <mrow>
       <mrow>
        <msub>
         <mi>
          s
         </mi>
         <mi>
          t
         </mi>
        </msub>
       </mrow>
      </mrow>
     </msubsup><mrow>
      <mo stretchy="false">
       (
      </mo>
      <mrow>
       <mi>
        S
       </mi>
       <mi>
        f
       </mi>
       <mo>
        +
       </mo>
       <mi>
        ϵ
       </mi>
       <mrow>
        <msup>
         <mrow>
          <mrow>
           <mover>
            <mi>
             u
            </mi>
            <mo>
             ˙
            </mo>
           </mover>
          </mrow>
         </mrow>
         <mi>
          T
         </mi>
        </msup>
       </mrow>
       <mi>
        W
       </mi>
       <mrow>
        <mover>
         <mi>
          u
         </mi>
         <mo>
          ˙
         </mo>
        </mover>
       </mrow>
      </mrow>
      <mo stretchy="false">
       )
      </mo>
      <mi>
       d
      </mi>
      <mi>
       s
      </mi>
      <mo>
       ,
      </mo>
     </mrow>
    </math><span class="mathjaxLabel"><span class="disp_formula_label_div"><span id="M0010" class="disp-formula-label">(10) </span></span></span></span>where <span class="NLM_disp-formula-image inline-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0040.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0040.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mi>
      S
     </mi><mi>
      f
     </mi>
    </math></span> is the car travel time for <span class="NLM_disp-formula-image inline-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0041.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0041.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mi>
      d
     </mi><mi>
      s
     </mi>
    </math></span> length along the track centreline, <span class="NLM_disp-formula-image inline-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0042.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0042.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mrow>
      <msub>
       <mi>
        s
       </mi>
       <mn>
        0
       </mn>
      </msub>
     </mrow>
    </math></span> and <span class="NLM_disp-formula-image inline-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0043.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0043.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mrow>
      <msub>
       <mi>
        s
       </mi>
       <mi>
        t
       </mi>
      </msub>
     </mrow>
    </math></span> are the initial and terminal length of the track, respectively. The term <span class="NLM_disp-formula-image inline-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0044.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0044.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mi>
      ϵ
     </mi><mrow>
      <msup>
       <mrow>
        <mover>
         <mi>
          u
         </mi>
         <mo>
          ˙
         </mo>
        </mover>
       </mrow>
       <mi>
        T
       </mi>
      </msup>
     </mrow><mi>
      W
     </mi><mrow>
      <mover>
       <mi>
        u
       </mi>
       <mo>
        ˙
       </mo>
      </mover>
     </mrow>
    </math></span> is a piece-wise derivative variation perturbation term that is added to the stage cost to regularise the problem. <span class="NLM_disp-formula-image inline-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0045.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0045.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mi>
      W
     </mi>
    </math></span> is a positive definite weight matrix, <span class="NLM_disp-formula-image inline-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0046.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0046.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mrow>
      <mover>
       <mi>
        u
       </mi>
       <mo>
        ˙
       </mo>
      </mover>
     </mrow>
    </math></span> and <span class="NLM_disp-formula-image inline-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0047.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0047.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mrow>
      <msup>
       <mrow>
        <mover>
         <mi>
          u
         </mi>
         <mo>
          ˙
         </mo>
        </mover>
       </mrow>
       <mi>
        T
       </mi>
      </msup>
     </mrow>
    </math></span> denote the change rate of control vectors and their transposed form. <span class="NLM_disp-formula-image inline-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0048.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0048.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mi>
      ϵ
     </mi><mo>
      ∈
     </mo><mo stretchy="false">
      (
     </mo><mrow>
      <mn>
       10
      </mn>
      <mi>
       e
      </mi>
      <mo>
       −
      </mo>
      <mn>
       4
      </mn>
      <mo>
       ,
      </mo>
      <mn>
       10
      </mn>
      <mi>
       e
      </mi>
      <mo>
       −
      </mo>
      <mn>
       2
      </mn>
     </mrow><mo stretchy="false">
      )
     </mo>
    </math></span> is a very small value to minimise the effect of this term on time optimality. The function of this regularisation term is to avoid singular arcs and oscillation in the solution caused by the nature of numerical algorithms [<span class="ref-lnk lazy-ref"><a data-rid="CIT0036" data-reflink="_i38 _i39" href="#"><span class="off-screen">Citation</span>36</a></span>] and to improve convergence performance [<span class="ref-lnk lazy-ref"><a data-rid="CIT0037" data-reflink="_i38 _i39" href="#"><span class="off-screen">Citation</span>37</a></span>]. Similarly, for the energy management problem, the cost function is <span class="NLM_disp-formula-image disp-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_m0011.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_m0011.gif&quot;}"><span class="mml-formula"><span class="disp_formula_label_div"><span id="M0011" class="disp-formula-label">(11) </span></span></span></span><span class="NLM_disp-formula disp-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mrow>
      <msub>
       <mi>
        J
       </mi>
       <mrow>
        <mi>
         E
        </mi>
        <mi>
         M
        </mi>
       </mrow>
      </msub>
     </mrow><mo>
      =
     </mo><msubsup>
      <mo>
       ∫
      </mo>
      <mrow>
       <mrow>
        <msub>
         <mi>
          s
         </mi>
         <mn>
          0
         </mn>
        </msub>
       </mrow>
      </mrow>
      <mrow>
       <mrow>
        <msub>
         <mi>
          s
         </mi>
         <mi>
          t
         </mi>
        </msub>
       </mrow>
      </mrow>
     </msubsup><mrow>
      <mo stretchy="false">
       (
      </mo>
      <mrow>
       <mrow>
        <msub>
         <mi>
          P
         </mi>
         <mrow>
          <mi>
           d
          </mi>
          <mi>
           r
          </mi>
          <mi>
           i
          </mi>
          <mi>
           v
          </mi>
          <mi>
           e
          </mi>
         </mrow>
        </msub>
       </mrow>
       <mo>
        −
       </mo>
       <mrow>
        <msub>
         <mi>
          P
         </mi>
         <mrow>
          <mi>
           r
          </mi>
          <mi>
           e
          </mi>
          <mi>
           g
          </mi>
          <mi>
           e
          </mi>
          <mi>
           n
          </mi>
         </mrow>
        </msub>
       </mrow>
       <mo>
        +
       </mo>
       <mi>
        ϵ
       </mi>
       <mrow>
        <msup>
         <mrow>
          <mrow>
           <mover>
            <mi>
             u
            </mi>
            <mo>
             ˙
            </mo>
           </mover>
          </mrow>
         </mrow>
         <mi>
          T
         </mi>
        </msup>
       </mrow>
       <mi>
        W
       </mi>
       <mrow>
        <mover>
         <mi>
          u
         </mi>
         <mo>
          ˙
         </mo>
        </mover>
       </mrow>
      </mrow>
      <mo stretchy="false">
       )
      </mo>
      <mi>
       d
      </mi>
      <mi>
       s
      </mi>
     </mrow><mo>
      .
     </mo>
    </math><span class="mathjaxLabel"><span class="disp_formula_label_div"><span id="M0011" class="disp-formula-label">(11) </span></span></span></span>In both problems, the system dynamics are included in <span class="NLM_disp-formula-image inline-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0049.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0049.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mi>
      f
     </mi><mo stretchy="false">
      (
     </mo><mrow>
      <mi>
       t
      </mi>
      <mo>
       ,
      </mo>
      <mi>
       x
      </mi>
      <mo stretchy="false">
       (
      </mo>
      <mi>
       t
      </mi>
      <mo stretchy="false">
       )
      </mo>
      <mo>
       ,
      </mo>
      <mi>
       u
      </mi>
      <mo stretchy="false">
       (
      </mo>
      <mi>
       t
      </mi>
      <mo stretchy="false">
       )
      </mo>
      <mo>
       ,
      </mo>
      <mi>
       p
      </mi>
     </mrow><mo stretchy="false">
      )
     </mo>
    </math></span>, whereas the load transfer governing equations are treated as equality path constraints included in <span class="NLM_disp-formula-image inline-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0050.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0050.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mi>
      g
     </mi><mo stretchy="false">
      (
     </mo><mrow>
      <mi>
       t
      </mi>
      <mo>
       ,
      </mo>
      <mi>
       x
      </mi>
      <mo stretchy="false">
       (
      </mo>
      <mi>
       t
      </mi>
      <mo stretchy="false">
       )
      </mo>
      <mo>
       ,
      </mo>
      <mi>
       u
      </mi>
      <mo stretchy="false">
       (
      </mo>
      <mi>
       t
      </mi>
      <mo stretchy="false">
       )
      </mo>
      <mo>
       ,
      </mo>
      <mi>
       p
      </mi>
     </mrow><mo stretchy="false">
      )
     </mo>
    </math></span>. And finally, the bounds for states and controls, and path constraints of power limit and collision constraint are included in the inequality constraints <span class="NLM_disp-formula-image inline-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0051.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0051.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mi>
      h
     </mi><mo stretchy="false">
      (
     </mo><mrow>
      <mi>
       t
      </mi>
      <mo>
       ,
      </mo>
      <mi>
       x
      </mi>
      <mo stretchy="false">
       (
      </mo>
      <mi>
       t
      </mi>
      <mo stretchy="false">
       )
      </mo>
      <mo>
       ,
      </mo>
      <mi>
       u
      </mi>
      <mo stretchy="false">
       (
      </mo>
      <mi>
       t
      </mi>
      <mo stretchy="false">
       )
      </mo>
      <mo>
       ,
      </mo>
      <mi>
       p
      </mi>
     </mrow><mo stretchy="false">
      )
     </mo>
    </math></span>. The difference between the two problems is the time and energy. In the MTM problem, time is the objective to be minimised and energy is an integral boundary in inequality constraints <span class="NLM_disp-formula-image inline-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0052.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0052.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mi>
      h
     </mi><mo stretchy="false">
      (
     </mo><mrow>
      <mi>
       t
      </mi>
      <mo>
       ,
      </mo>
      <mi>
       x
      </mi>
      <mo stretchy="false">
       (
      </mo>
      <mi>
       t
      </mi>
      <mo stretchy="false">
       )
      </mo>
      <mo>
       ,
      </mo>
      <mi>
       u
      </mi>
      <mo stretchy="false">
       (
      </mo>
      <mi>
       t
      </mi>
      <mo stretchy="false">
       )
      </mo>
      <mo>
       ,
      </mo>
      <mi>
       p
      </mi>
     </mrow><mo stretchy="false">
      )
     </mo>
    </math></span> while in the energy management problem, time becomes an integral boundary: <span class="NLM_disp-formula-image disp-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_m0012.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_m0012.gif&quot;}"><span class="mml-formula"><span class="disp_formula_label_div"><span id="M0012" class="disp-formula-label">(12) </span></span></span></span><span class="NLM_disp-formula disp-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mrow>
      <msub>
       <mi>
        t
       </mi>
       <mi>
        A
       </mi>
      </msub>
     </mrow><mo>
      =
     </mo><msubsup>
      <mo>
       ∫
      </mo>
      <mrow>
       <mrow>
        <msub>
         <mi>
          s
         </mi>
         <mn>
          0
         </mn>
        </msub>
       </mrow>
      </mrow>
      <mrow>
       <mrow>
        <msub>
         <mi>
          s
         </mi>
         <mi>
          t
         </mi>
        </msub>
       </mrow>
      </mrow>
     </msubsup><mrow>
      <mi>
       S
      </mi>
      <mi>
       f
      </mi>
      <mspace width="thinmathspace"></mspace>
      <mi>
       d
      </mi>
      <mi>
       s
      </mi>
      <mo>
       &lt;
      </mo>
      <mrow>
       <msub>
        <mi>
         t
        </mi>
        <mi>
         T
        </mi>
       </msub>
      </mrow>
      <mo>
       −
      </mo>
      <mrow>
       <msub>
        <mi>
         t
        </mi>
        <mrow>
         <mi>
          g
         </mi>
         <mi>
          a
         </mi>
         <mi>
          p
         </mi>
        </mrow>
       </msub>
      </mrow>
     </mrow><mo>
      ,
     </mo>
    </math><span class="mathjaxLabel"><span class="disp_formula_label_div"><span id="M0012" class="disp-formula-label">(12) </span></span></span></span></p>
  <p>which means that the actor finishing time <span class="NLM_disp-formula-image inline-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0053.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0053.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mrow>
      <msub>
       <mi>
        t
       </mi>
       <mi>
        A
       </mi>
      </msub>
     </mrow>
    </math></span> needs to be shorter than the target car lap time <span class="NLM_disp-formula-image inline-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0054.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0054.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mrow>
      <msub>
       <mi>
        t
       </mi>
       <mi>
        T
       </mi>
      </msub>
     </mrow>
    </math></span> by subtracting the initial time gap <span class="NLM_disp-formula-image inline-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0055.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0055.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mrow>
      <msub>
       <mi>
        t
       </mi>
       <mrow>
        <mi>
         g
        </mi>
        <mi>
         a
        </mi>
        <mi>
         p
        </mi>
       </mrow>
      </msub>
     </mrow>
    </math></span>. In this way, the solver failing to generate a solution would suggest that overtaking under given constraints (e.g. low max energy consumption, big time gap) is infeasible. Note that the target car’s trajectory position <span class="NLM_disp-formula-image inline-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0056.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0056.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mo stretchy="false">
      (
     </mo><mrow>
      <mrow>
       <msub>
        <mi>
         s
        </mi>
        <mi>
         T
        </mi>
       </msub>
      </mrow>
      <mo>
       ,
      </mo>
      <mrow>
       <msub>
        <mi>
         n
        </mi>
        <mi>
         T
        </mi>
       </msub>
      </mrow>
     </mrow><mo stretchy="false">
      )
     </mo>
    </math></span> is treated as a function of time in the problem formulation.</p>
 </div>
 <div id="S003-S2002" class="NLM_sec NLM_sec_level_2">
  <h3 class="section-heading-3" id="_i24">3.2. Scaling and mesh refinement</h3>
  <p>The OCP in this study is transcribed into a large non-linear programming problem (NLP) using Legendre–Gauss–Radau (LGR) quadrature orthogonal collocation method and Radau’s integration formula [<span class="ref-lnk lazy-ref"><a data-rid="CIT0038" data-reflink="_i38 _i39" href="#"><span class="off-screen">Citation</span>38</a></span>]. To implement this, the General-Purpose Optimal Control MATLAB Toolbox GPOPS-II [<span class="ref-lnk lazy-ref"><a data-rid="CIT0039" data-reflink="_i38 _i39" href="#"><span class="off-screen">Citation</span>39</a></span>] and underlying interior-point algorithm IPOPT [<span class="ref-lnk lazy-ref"><a data-rid="CIT0040" data-reflink="_i38 _i39" href="#"><span class="off-screen">Citation</span>40</a></span>] are used.</p>
  <p>In addition to the regularisation term in Equations&nbsp;(31) and (32), scaling is another factor that can significantly affect the convergence performance of the optimisation algorithms. Instead of simply scaling into the range of [−0.5, 0.5], the base quantities can be scaled into dimensionless quantities in order to improve the NLP solver performance. In this study, the vehicle mass of 900 kg is scaled into a dimensionless value of 1. The car wheelbase of 3.1 m is taken as the fundamental unit of length and given the dimensionless value of 1. In order to define the scaler for time variables, the gravitational acceleration <span class="NLM_disp-formula-image inline-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0057.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0057.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mi>
      g
     </mi>
    </math></span> is scaled to the value of 1 so that the gravitational force of the car becomes the dimensionless value of 1. Using this method, other derived quantities such as the power of 250 kW now is 5.14, tyre normal force of 6000 N now is 0.68 and 50,000 J of energy is scaled to 1.8, etc. This method will scale the NLP’s variables in the original problem from a highly elongated hyperellipsoid into a more spherical space [<span class="ref-lnk lazy-ref"><a data-rid="CIT0036" data-reflink="_i38 _i39" href="#"><span class="off-screen">Citation</span>36</a></span>].</p>
  <p>In GPOPS-II, a large OCP is segmented into mesh intervals and orthogonal collocation techniques are used in each mesh interval. Mesh refinement is a strong enhancement technique to improve the computational efficiency and accuracy of polynomial approximation in the mesh intervals. Varieties of hp methods have been developed in previous research [<span class="ref-lnk lazy-ref"><a data-rid="CIT0041 CIT0042 CIT0043" data-reflink="_i38 _i39" href="#"><span class="off-screen">Citation</span>41–43</a></span>] in which a mesh interval can be divided into multiple intervals (i.e. h method) and the degree of approximation polynomial in an interval can be increased (i.e. p method). In this study, the method proposed by Liu et&nbsp;al. [<span class="ref-lnk lazy-ref"><a data-rid="CIT0044" data-reflink="_i38 _i39" href="#"><span class="off-screen">Citation</span>44</a></span>] is used. While other methods might end up with an unnecessarily dense mesh or high-order polynomial, this method is able to (1) reduce the degree of polynomials when the high-order term in the power expansion is sufficiently small and (2) merge adjacent mesh intervals when the degree of approximation intervals inside these intervals is essentially the same. This feature will ease the computational burden created by either dense initial mesh setup or over-refined meshes during the optimisation iterations.</p>
 </div>
 <div id="S003-S2003" class="NLM_sec NLM_sec_level_2">
  <h3 class="section-heading-3" id="_i25">3.3. Smoothing function</h3>
  <p>The interior-point NLP algorithm assumes the constraint and object functions are continuously differentiable and it requires the first- and second-order derivative information. Therefore, the Heaviside step functions and <i>if</i> conditions in the collision constraints must be approximated in a smooth differentiable way. For this purpose, the Heaviside step function in the collision constraint is approximated using <span class="NLM_disp-formula-image disp-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_m0013.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_m0013.gif&quot;}"><span class="mml-formula"><span class="disp_formula_label_div"><span id="M0013" class="disp-formula-label">(13) </span></span></span></span><span class="NLM_disp-formula disp-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mi>
      H
     </mi><mo stretchy="false">
      (
     </mo><mi>
      x
     </mi><mo stretchy="false">
      )
     </mo><mo>
      ≈
     </mo><mrow>
      <msub>
       <mi>
        H
       </mi>
       <mi>
        s
       </mi>
      </msub>
     </mrow><mo stretchy="false">
      (
     </mo><mi>
      x
     </mi><mo stretchy="false">
      )
     </mo><mspace width="thinmathspace"></mspace><mo>
      =
     </mo><mspace width="thinmathspace"></mspace><mn>
      0.5
     </mn><mspace width="thinmathspace"></mspace><mo>
      +
     </mo><mspace width="thinmathspace"></mspace><mn>
      0.5
     </mn><mrow>
      <mtext>
       tanh
      </mtext>
     </mrow><mo stretchy="false">
      (
     </mo><mrow>
      <mi>
       k
      </mi>
      <mi>
       x
      </mi>
     </mrow><mo stretchy="false">
      )
     </mo><mo>
      .
     </mo>
    </math><span class="mathjaxLabel"><span class="disp_formula_label_div"><span id="M0013" class="disp-formula-label">(13) </span></span></span></span>Similarly, the if condition can be described using the smoothed Heaviside step function <span class="NLM_disp-formula-image inline-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0058.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0058.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mrow>
      <msub>
       <mi>
        H
       </mi>
       <mi>
        s
       </mi>
      </msub>
     </mrow><mo stretchy="false">
      (
     </mo><mi>
      x
     </mi><mo stretchy="false">
      )
     </mo>
    </math></span>. The collision boundaries of Equations&nbsp;(27) and (28) become <span class="NLM_disp-formula-image disp-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_m0014.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_m0014.gif&quot;}"><span class="mml-formula"><span class="disp_formula_label_div"><span id="M0014" class="disp-formula-label">(14) </span></span></span></span><span class="NLM_disp-formula disp-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mtable columnalign="right left right left right left right left right left right left" rowspacing="3pt" columnspacing="0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em" displaystyle="true">
      <mtr>
       <mtd>
        <mrow>
         <msub>
          <mi>
           N
          </mi>
          <mrow>
           <mi>
            u
           </mi>
           <mi>
            p
           </mi>
           <mi>
            p
           </mi>
           <mi>
            e
           </mi>
           <mi>
            r
           </mi>
          </mrow>
         </msub>
        </mrow>
       </mtd>
       <mtd>
        <mi></mi>
        <mo>
         =
        </mo>
        <mn>
         0.5
        </mn>
        <mrow>
         <msub>
          <mi>
           w
          </mi>
          <mrow>
           <mi>
            r
           </mi>
           <mi>
            o
           </mi>
           <mi>
            a
           </mi>
           <mi>
            d
           </mi>
          </mrow>
         </msub>
        </mrow>
        <mo>
         +
        </mo>
        <mo stretchy="false">
         (
        </mo>
        <mrow>
         <mrow>
          <msub>
           <mi>
            w
           </mi>
           <mrow>
            <mi>
             c
            </mi>
            <mi>
             a
            </mi>
            <mi>
             r
            </mi>
           </mrow>
          </msub>
         </mrow>
         <mo>
          +
         </mo>
         <mn>
          0.5
         </mn>
         <mrow>
          <msub>
           <mi>
            w
           </mi>
           <mrow>
            <mi>
             r
            </mi>
            <mi>
             o
            </mi>
            <mi>
             a
            </mi>
            <mi>
             d
            </mi>
           </mrow>
          </msub>
         </mrow>
         <mo>
          −
         </mo>
         <mrow>
          <msub>
           <mi>
            n
           </mi>
           <mi>
            A
           </mi>
          </msub>
         </mrow>
        </mrow>
        <mo stretchy="false">
         )
        </mo>
       </mtd>
      </mtr>
      <mtr>
       <mtd></mtd>
       <mtd>
        <mi></mi>
        <mspace width="1em"></mspace>
        <mo>
         ×
        </mo>
        <mo stretchy="false">
         (
        </mo>
        <mrow>
         <mrow>
          <msub>
           <mi>
            H
           </mi>
           <mi>
            s
           </mi>
          </msub>
         </mrow>
         <mo stretchy="false">
          (
         </mo>
         <mrow>
          <mrow>
           <msub>
            <mi>
             s
            </mi>
            <mi>
             A
            </mi>
           </msub>
          </mrow>
          <mo>
           −
          </mo>
          <mrow>
           <msub>
            <mi>
             s
            </mi>
            <mi>
             T
            </mi>
           </msub>
          </mrow>
         </mrow>
         <mo stretchy="false">
          )
         </mo>
         <mo>
          +
         </mo>
         <mrow>
          <msub>
           <mi>
            H
           </mi>
           <mi>
            s
           </mi>
          </msub>
         </mrow>
         <mo stretchy="false">
          (
         </mo>
         <mrow>
          <mrow>
           <msub>
            <mi>
             s
            </mi>
            <mi>
             A
            </mi>
           </msub>
          </mrow>
          <mo>
           −
          </mo>
          <mrow>
           <msub>
            <mi>
             s
            </mi>
            <mi>
             T
            </mi>
           </msub>
          </mrow>
          <mo>
           +
          </mo>
          <mrow>
           <msub>
            <mi>
             l
            </mi>
            <mrow>
             <mi>
              c
             </mi>
             <mi>
              a
             </mi>
             <mi>
              r
             </mi>
            </mrow>
           </msub>
          </mrow>
         </mrow>
         <mo stretchy="false">
          )
         </mo>
        </mrow>
        <mo stretchy="false">
         )
        </mo>
        <mrow>
         <msub>
          <mi>
           H
          </mi>
          <mi>
           s
          </mi>
         </msub>
        </mrow>
        <mo stretchy="false">
         (
        </mo>
        <mrow>
         <mrow>
          <msub>
           <mi>
            n
           </mi>
           <mi>
            A
           </mi>
          </msub>
         </mrow>
         <mo>
          −
         </mo>
         <mrow>
          <msub>
           <mi>
            n
           </mi>
           <mi>
            T
           </mi>
          </msub>
         </mrow>
        </mrow>
        <mo stretchy="false">
         )
        </mo>
        <mo>
         ,
        </mo>
       </mtd>
      </mtr>
     </mtable>
    </math><span class="mathjaxLabel"><span class="disp_formula_label_div"><span id="M0014" class="disp-formula-label">(14) </span></span></span></span> <span class="NLM_disp-formula-image disp-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_m0015.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_m0015.gif&quot;}"><span class="mml-formula"><span class="disp_formula_label_div"><span id="M0015" class="disp-formula-label">(15) </span></span></span></span><span class="NLM_disp-formula disp-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mtable columnalign="right left right left right left right left right left right left" rowspacing="3pt" columnspacing="0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em" displaystyle="true">
      <mtr>
       <mtd>
        <mrow>
         <msub>
          <mi>
           N
          </mi>
          <mrow>
           <mi>
            l
           </mi>
           <mi>
            o
           </mi>
           <mi>
            w
           </mi>
           <mi>
            e
           </mi>
           <mi>
            r
           </mi>
          </mrow>
         </msub>
        </mrow>
       </mtd>
       <mtd>
        <mi></mi>
        <mo>
         =
        </mo>
        <mn>
         0.5
        </mn>
        <mrow>
         <msub>
          <mi>
           w
          </mi>
          <mrow>
           <mi>
            r
           </mi>
           <mi>
            o
           </mi>
           <mi>
            a
           </mi>
           <mi>
            d
           </mi>
          </mrow>
         </msub>
        </mrow>
        <mo>
         −
        </mo>
        <mo stretchy="false">
         (
        </mo>
        <mrow>
         <mrow>
          <msub>
           <mi>
            w
           </mi>
           <mrow>
            <mi>
             c
            </mi>
            <mi>
             a
            </mi>
            <mi>
             r
            </mi>
           </mrow>
          </msub>
         </mrow>
         <mo>
          +
         </mo>
         <mn>
          0.5
         </mn>
         <mrow>
          <msub>
           <mi>
            w
           </mi>
           <mrow>
            <mi>
             r
            </mi>
            <mi>
             o
            </mi>
            <mi>
             a
            </mi>
            <mi>
             d
            </mi>
           </mrow>
          </msub>
         </mrow>
         <mo>
          +
         </mo>
         <mrow>
          <msub>
           <mi>
            n
           </mi>
           <mi>
            A
           </mi>
          </msub>
         </mrow>
        </mrow>
        <mo stretchy="false">
         )
        </mo>
       </mtd>
      </mtr>
      <mtr>
       <mtd></mtd>
       <mtd>
        <mi></mi>
        <mspace width="1em"></mspace>
        <mo>
         ×
        </mo>
        <mo stretchy="false">
         (
        </mo>
        <mrow>
         <mrow>
          <msub>
           <mi>
            H
           </mi>
           <mi>
            s
           </mi>
          </msub>
         </mrow>
         <mo stretchy="false">
          (
         </mo>
         <mrow>
          <mrow>
           <msub>
            <mi>
             s
            </mi>
            <mi>
             A
            </mi>
           </msub>
          </mrow>
          <mo>
           −
          </mo>
          <mrow>
           <msub>
            <mi>
             s
            </mi>
            <mi>
             T
            </mi>
           </msub>
          </mrow>
         </mrow>
         <mo stretchy="false">
          )
         </mo>
         <mo>
          +
         </mo>
         <mrow>
          <msub>
           <mi>
            H
           </mi>
           <mi>
            s
           </mi>
          </msub>
         </mrow>
         <mo stretchy="false">
          (
         </mo>
         <mrow>
          <mrow>
           <msub>
            <mi>
             s
            </mi>
            <mi>
             A
            </mi>
           </msub>
          </mrow>
          <mo>
           −
          </mo>
          <mrow>
           <msub>
            <mi>
             s
            </mi>
            <mi>
             T
            </mi>
           </msub>
          </mrow>
          <mo>
           +
          </mo>
          <mrow>
           <msub>
            <mi>
             l
            </mi>
            <mrow>
             <mi>
              c
             </mi>
             <mi>
              a
             </mi>
             <mi>
              r
             </mi>
            </mrow>
           </msub>
          </mrow>
         </mrow>
         <mo stretchy="false">
          )
         </mo>
        </mrow>
        <mo stretchy="false">
         )
        </mo>
        <mrow>
         <msub>
          <mi>
           H
          </mi>
          <mi>
           s
          </mi>
         </msub>
        </mrow>
        <mo stretchy="false">
         (
        </mo>
        <mrow>
         <mrow>
          <msub>
           <mi>
            n
           </mi>
           <mi>
            T
           </mi>
          </msub>
         </mrow>
         <mo>
          −
         </mo>
         <mrow>
          <msub>
           <mi>
            n
           </mi>
           <mi>
            A
           </mi>
          </msub>
         </mrow>
        </mrow>
        <mo stretchy="false">
         )
        </mo>
        <mo>
         .
        </mo>
       </mtd>
      </mtr>
     </mtable>
    </math><span class="mathjaxLabel"><span class="disp_formula_label_div"><span id="M0015" class="disp-formula-label">(15) </span></span></span></span></p>
  <p>The accuracy of such approximation improves when the <span class="NLM_disp-formula-image inline-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0059.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0059.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mi>
      k
     </mi>
    </math></span> value increases. To ensure that the approximation does not change the original problem significantly, <span class="NLM_disp-formula-image inline-formula rs_preserve">
    <noscript>
     <img src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0060.gif" alt="">
    </noscript><img src="//:0" alt="" class="mml-formula" data-formula-source="{&quot;type&quot; : &quot;image&quot;, &quot;src&quot; : &quot;/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/nvsd_a_2096082_ilm0060.gif&quot;}"><span class="mml-formula"></span></span><span class="NLM_disp-formula inline-formula rs_preserve"><img src="//:0" alt="" data-formula-source="{&quot;type&quot; : &quot;mathjax&quot;}">
    <math>
     <mi>
      k
     </mi><mo>
      ∈
     </mo><mo stretchy="false">
      (
     </mo><mrow>
      <mn>
       1
      </mn>
      <mi>
       e
      </mi>
      <mn>
       2
      </mn>
      <mo>
       ,
      </mo>
      <mn>
       1
      </mn>
      <mi>
       e
      </mi>
      <mn>
       4
      </mn>
     </mrow><mo stretchy="false">
      )
     </mo>
    </math></span> is used in this paper.</p>
 </div>
</div>
<div id="S004" class="NLM_sec NLM_sec_level_1">
 <h2 id="_i29" class="section-heading-2">4. Results and discussion</h2>
 <p>The problems are solved on a local machine with i7-6700HQ processor. Using the MATLAB-based transcription code and C++ NLP solver, the average solution time of a single case in this study is around 50 min. It has been shown in [<span class="ref-lnk lazy-ref"><a data-rid="CIT0045" data-reflink="_i38 _i39" href="#"><span class="off-screen">Citation</span>45</a></span>] that the solution time can be significantly reduced (13–50%) by implementing the algorithms entirely in C++ due to higher code efficiency. This is not the main focus of this study, thus is not discussed further.</p>
 <p>The results shown in this section are collected from cases of different performances (due to different EPL constraints) of the target car and various gaps. These results are presented in two aspects. The first one shows the successful overtaking manoeuvres at different locations on the track found in the solutions. The second one demonstrates the feasibility of overtaking manoeuvres and the energy penalty that needs to be paid if feasible.</p>
 <div id="S004-S2001" class="NLM_sec NLM_sec_level_2">
  <h3 class="section-heading-3" id="_i30">4.1. Overtaking manoeuvres</h3>
  <p>To demonstrate potential overtaking opportunities, we use a reference trajectory from a car with a 1.4 kWh energy constraint and 200 kW power constraint as an example. The problem is formulated using the cost function of Equation&nbsp;(31) which is a simple MTM problem. The actor car is given the same 200 kW power constraint but with no energy constraint. We swept through a range of head start gaps that we gave to the target car, from 0.1 s until no overtaking can be observed. From the result collected, on the Marrakesh track, the majority of the successful overtaking manoeuvres take place in the highlighted sectors shown in Figure&nbsp;<a href="#F0004">4</a>(a).</p>
  <div class="figure figureViewer" id="F0004">
   <div class="hidden figureViewerArticleInfo">
    <span class="figViewerTitle">Energy-optimal overtaking manoeuvres of Formula-E cars</span>
    <div class="articleAuthors articleInfoSection">
     <div class="authorsHeading">
      All authors
     </div>
     <div class="authors">
      <a class="entryAuthor" href="/action/doSearch?Contrib=Liu%2C+Xuze"><span class="hlFld-ContribAuthor"></span></a><a href="/author/Liu%2C+Xuze"><span class="NLM_given-names">Xuze</span> Liu</a> <a href="https://orcid.org/0000-0002-2908-2738"><img src="/templates/jsp/images/orcid.png"></a>, <a class="entryAuthor" href="/action/doSearch?Contrib=Fotouhi%2C+Abbas"><span class="hlFld-ContribAuthor"></span></a><a href="/author/Fotouhi%2C+Abbas"><span class="NLM_given-names">Abbas</span> Fotouhi</a> <a href="https://orcid.org/0000-0002-5402-8629"><img src="/templates/jsp/images/orcid.png"></a> &amp; <a class="entryAuthor" href="/action/doSearch?Contrib=Auger%2C+Daniel+J"><span class="hlFld-ContribAuthor"></span></a><a href="/author/Auger%2C+Daniel+J"><span class="NLM_given-names">Daniel J.</span> Auger</a> <a href="https://orcid.org/0000-0002-6199-4251"><img src="/templates/jsp/images/orcid.png"></a>
     </div>
    </div>
    <div class="articleLowerInfo articleInfoSection">
     <div class="articleLowerInfoSection articleInfoDOI">
      <a href="https://doi.org/10.1080/00423114.2022.2096082">https://doi.org/10.1080/00423114.2022.2096082</a>
     </div>
     <div class="articleInfoPublicationDate articleLowerInfoSection border">
      <h6>Published online:</h6>11 July 2022
     </div>
    </div>
   </div>
   <div class="figureThumbnailContainer">
    <div class="figureInfo">
     <div class="short-legend">
      <p class="captionText"><span class="captionLabel">Figure 4. </span> (a) Observed overtaking positions(highlighted in ) and (b) example speed profile using LaC.</p>
     </div>
    </div><a href="#" class="thumbnail" aria-label="thumbnail image"><img id="F0004image" src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/medium/nvsd_a_2096082_f0004_oc.jpg" loading="lazy" height="207" width="500"></a>
    <div class="figureDownloadOptions">
     <a href="#" class="downloadBtn btn btn-sm" role="button">Display full size</a>
    </div>
   </div>
  </div>
  <div class="hidden rs_skip" id="fig-description-F0004">
   <p class="captionText"><span class="captionLabel">Figure 4. </span> (a) Observed overtaking positions(highlighted in ) and (b) example speed profile using LaC.</p>
  </div>
  <div class="hidden rs_skip" id="figureFootNote-F0004">
   <div class="figureFootNote-F0004"></div>
  </div>
  <p></p>
  <p>Figure&nbsp;<a href="#F0004">4</a>(b) demonstrates two examples of speed profiles. The purple line is from a car doing LaC with a 1.4 kWh energy per lap constraint whereas the green one does not have any energy constraint applied. By comparing Figure&nbsp;<a href="#F0004">4</a>(a) and (b), it can be observed that most of the overtaking manoeuvres happened in the areas where the target car used the LaC technique to save its energy (bold blue blocks). One exceptional case was found in the Z1 area marked in Figure&nbsp;<a href="#F0004">4</a>(a) and (b) where the actor car successfully overtook when both cars were fully accelerating. This manoeuvre is shown in detail in Figure&nbsp;<a href="#F0005">5</a>.</p>
  <div class="figure figureViewer" id="F0005">
   <div class="hidden figureViewerArticleInfo">
    <span class="figViewerTitle">Energy-optimal overtaking manoeuvres of Formula-E cars</span>
    <div class="articleAuthors articleInfoSection">
     <div class="authorsHeading">
      All authors
     </div>
     <div class="authors">
      <a class="entryAuthor" href="/action/doSearch?Contrib=Liu%2C+Xuze"><span class="hlFld-ContribAuthor"></span></a><a href="/author/Liu%2C+Xuze"><span class="NLM_given-names">Xuze</span> Liu</a> <a href="https://orcid.org/0000-0002-2908-2738"><img src="/templates/jsp/images/orcid.png"></a>, <a class="entryAuthor" href="/action/doSearch?Contrib=Fotouhi%2C+Abbas"><span class="hlFld-ContribAuthor"></span></a><a href="/author/Fotouhi%2C+Abbas"><span class="NLM_given-names">Abbas</span> Fotouhi</a> <a href="https://orcid.org/0000-0002-5402-8629"><img src="/templates/jsp/images/orcid.png"></a> &amp; <a class="entryAuthor" href="/action/doSearch?Contrib=Auger%2C+Daniel+J"><span class="hlFld-ContribAuthor"></span></a><a href="/author/Auger%2C+Daniel+J"><span class="NLM_given-names">Daniel J.</span> Auger</a> <a href="https://orcid.org/0000-0002-6199-4251"><img src="/templates/jsp/images/orcid.png"></a>
     </div>
    </div>
    <div class="articleLowerInfo articleInfoSection">
     <div class="articleLowerInfoSection articleInfoDOI">
      <a href="https://doi.org/10.1080/00423114.2022.2096082">https://doi.org/10.1080/00423114.2022.2096082</a>
     </div>
     <div class="articleInfoPublicationDate articleLowerInfoSection border">
      <h6>Published online:</h6>11 July 2022
     </div>
    </div>
   </div>
   <div class="figureThumbnailContainer">
    <div class="figureInfo">
     <div class="short-legend">
      <p class="captionText"><span class="captionLabel">Figure 5. </span> Overtaking at turn one: (a) car trajectories and (b) speed profile and relative position.</p>
     </div>
    </div><a href="#" class="thumbnail" aria-label="thumbnail image"><img id="F0005image" src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/medium/nvsd_a_2096082_f0005_oc.jpg" loading="lazy" height="230" width="500"></a>
    <div class="figureDownloadOptions">
     <a href="#" class="downloadBtn btn btn-sm" role="button">Display full size</a>
    </div>
   </div>
  </div>
  <div class="hidden rs_skip" id="fig-description-F0005">
   <p class="captionText"><span class="captionLabel">Figure 5. </span> Overtaking at turn one: (a) car trajectories and (b) speed profile and relative position.</p>
  </div>
  <div class="hidden rs_skip" id="figureFootNote-F0005">
   <div class="figureFootNote-F0005"></div>
  </div>
  <p></p>
  <p>Figure&nbsp;<a href="#F0005">5</a> shows an overtaking between the first and second corners (Z1 area in Figure&nbsp;<a href="#F0004">4</a>). This is a case where both cars are under race mode setting (200 kW power) with a small initial time gap (0.1 s). At the start, the target car was leading by a 0.1-second gap. As is shown in Figure&nbsp;<a href="#F0005">5</a>(b), while the target car started to lift and coast (LaC), the actor car continued to accelerate and got in front of the target car. The high speed of the actor car during entering the corner forced it to go wide in the corner and give back the leading position to the target car. However, this temporary loss in return gave the actor car an opportunity to accelerate earlier than the target and established a speed advantage when exiting the corner. Given the speed advantage, the actor car then successfully overtook the target soon after exiting turn one.</p>
  <p>Another unique overtaking manoeuvre (in a different simulation) was found featuring the activation of attack mode. This is shown in Figure&nbsp;<a href="#F0006">6</a>.</p>
  <div class="figure figureViewer" id="F0006">
   <div class="hidden figureViewerArticleInfo">
    <span class="figViewerTitle">Energy-optimal overtaking manoeuvres of Formula-E cars</span>
    <div class="articleAuthors articleInfoSection">
     <div class="authorsHeading">
      All authors
     </div>
     <div class="authors">
      <a class="entryAuthor" href="/action/doSearch?Contrib=Liu%2C+Xuze"><span class="hlFld-ContribAuthor"></span></a><a href="/author/Liu%2C+Xuze"><span class="NLM_given-names">Xuze</span> Liu</a> <a href="https://orcid.org/0000-0002-2908-2738"><img src="/templates/jsp/images/orcid.png"></a>, <a class="entryAuthor" href="/action/doSearch?Contrib=Fotouhi%2C+Abbas"><span class="hlFld-ContribAuthor"></span></a><a href="/author/Fotouhi%2C+Abbas"><span class="NLM_given-names">Abbas</span> Fotouhi</a> <a href="https://orcid.org/0000-0002-5402-8629"><img src="/templates/jsp/images/orcid.png"></a> &amp; <a class="entryAuthor" href="/action/doSearch?Contrib=Auger%2C+Daniel+J"><span class="hlFld-ContribAuthor"></span></a><a href="/author/Auger%2C+Daniel+J"><span class="NLM_given-names">Daniel J.</span> Auger</a> <a href="https://orcid.org/0000-0002-6199-4251"><img src="/templates/jsp/images/orcid.png"></a>
     </div>
    </div>
    <div class="articleLowerInfo articleInfoSection">
     <div class="articleLowerInfoSection articleInfoDOI">
      <a href="https://doi.org/10.1080/00423114.2022.2096082">https://doi.org/10.1080/00423114.2022.2096082</a>
     </div>
     <div class="articleInfoPublicationDate articleLowerInfoSection border">
      <h6>Published online:</h6>11 July 2022
     </div>
    </div>
   </div>
   <div class="figureThumbnailContainer">
    <div class="figureInfo">
     <div class="short-legend">
      <p class="captionText"><span class="captionLabel">Figure 6. </span> Overtaking at turn three: (a) car trajectories and (b) speed profile and relative position.</p>
     </div>
    </div><a href="#" class="thumbnail" aria-label="thumbnail image"><img id="F0006image" src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/medium/nvsd_a_2096082_f0006_oc.jpg" loading="lazy" height="209" width="500"></a>
    <div class="figureDownloadOptions">
     <a href="#" class="downloadBtn btn btn-sm" role="button">Display full size</a>
    </div>
   </div>
  </div>
  <div class="hidden rs_skip" id="fig-description-F0006">
   <p class="captionText"><span class="captionLabel">Figure 6. </span> Overtaking at turn three: (a) car trajectories and (b) speed profile and relative position.</p>
  </div>
  <div class="hidden rs_skip" id="figureFootNote-F0006">
   <div class="figureFootNote-F0006"></div>
  </div>
  <p></p>
  <p>In this case, the target car was on a normal race mode lap with 1.4 kWh energy consumption while the actor car is in an attack mode activation lap in which it has to drive through the activation zone (shown by green colour in Figure&nbsp;<a href="#F0006">6</a>(a)) to be entitled to the extra 50 kW power output. The actor car was leading before entering the activation zone and lost its position due to the target car taking a tighter line. After the attack mode was activated, the higher power of the actor car allowed it to accelerate faster than the target car as is shown in Figure&nbsp;<a href="#F0006">6</a>(b). The actor car regained its leading position soon after exiting turn three and is then able to further build up the leading gap.</p>
  <p>The rest of the overtaking manoeuvres found are generally simple ones where the actor car takes advantage of the speed difference over the target car doing LaC before entries of corners. They are of less interesting features which are shown in Appendix C instead of this section.</p>
 </div>
 <div id="S004-S2002" class="NLM_sec NLM_sec_level_2">
  <h3 class="section-heading-3" id="_i34">4.2. Energy consumption of overtaking laps</h3>
  <p>In this section, the problem is formulated in the way of Equation&nbsp;(32) with lap time being a boundary as stated in Equation&nbsp;(33). In this way, the objective is to find the minimum energy required to execute a successful overtaking (imposed by Equation (33)) given different initial time gaps between the target and actor car. Failure of solving a scenario means the overtaking is fundamentally infeasible in that given scenario (e.g. initial gap, high target car energy allowance).</p>
  <p>As previously introduced, a car has three possible power modes featuring different power limits. An overtaking attempt is considered rational only when the actor car has higher or at least equal power compared to the target car. This gives six different basic scenarios as presented in Table&nbsp;<button class="ref showTableEventRef" data-id="T0001">1</button>.</p>
  <div class="tableViewerArticleInfo hidden">
   <span class="figViewerTitle">Energy-optimal overtaking manoeuvres of Formula-E cars</span>
   <div class="articleAuthors articleInfoSection">
    <div class="authorsHeading">
     All authors
    </div>
    <div class="authors">
     <a class="entryAuthor" href="/action/doSearch?Contrib=Liu%2C+Xuze"><span class="hlFld-ContribAuthor"></span></a><a href="/author/Liu%2C+Xuze"><span class="NLM_given-names">Xuze</span> Liu</a> <a href="https://orcid.org/0000-0002-2908-2738"><img src="/templates/jsp/images/orcid.png"></a>, <a class="entryAuthor" href="/action/doSearch?Contrib=Fotouhi%2C+Abbas"><span class="hlFld-ContribAuthor"></span></a><a href="/author/Fotouhi%2C+Abbas"><span class="NLM_given-names">Abbas</span> Fotouhi</a> <a href="https://orcid.org/0000-0002-5402-8629"><img src="/templates/jsp/images/orcid.png"></a> &amp; <a class="entryAuthor" href="/action/doSearch?Contrib=Auger%2C+Daniel+J"><span class="hlFld-ContribAuthor"></span></a><a href="/author/Auger%2C+Daniel+J"><span class="NLM_given-names">Daniel J.</span> Auger</a> <a href="https://orcid.org/0000-0002-6199-4251"><img src="/templates/jsp/images/orcid.png"></a>
    </div>
   </div>
   <div class="articleLowerInfo articleInfoSection">
    <div class="articleLowerInfoSection articleInfoDOI">
     <a href="https://doi.org/10.1080/00423114.2022.2096082">https://doi.org/10.1080/00423114.2022.2096082</a>
    </div>
    <div class="articleInfoPublicationDate articleLowerInfoSection border">
     <h6>Published online:</h6>11 July 2022
    </div>
   </div>
  </div>
  <div class="tableView">
   <div class="tableCaption">
    <div class="short-legend">
     <h3><p class="captionText"><span class="captionLabel">Table 1. </span> Overtaking scenarios.</p></h3>
    </div>
   </div>
   <div class="tableDownloadOption" data-hascsvlnk="true" id="T0001-table-wrapper">
    <a class="downloadButton btn btn-sm" role="button" href="/action/downloadTable?id=T0001&amp;doi=10.1080%2F00423114.2022.2096082&amp;downloadType=CSV"> Download CSV</a><a data-id="T0001" class="downloadButton btn btn-sm displaySizeTable" href="#" role="button">Display Table</a>
   </div>
  </div>
  <p></p>
  <p>In each scenario, we use a series of target car trajectories obtained under different energy constraints (1.2–2 kWh). With each reference trajectory, we complete a number of simulations over a sweep of initial gaps starting from 0.1 s with 0.1 s increment until the solver fails to generate a solution or a maximum gap of 3 s is reached.</p>
  <p>In this section, only S1, S2, S3, S4 are shown due to some unique features found in the solutions. Results of S5 and S6 are shown in Appendix D. Figure&nbsp;<a href="#F0007">7</a> shows the minimum energy requirement in different scenarios with different initial time gaps and target car energy usage.</p>
  <div class="figure figureViewer" id="F0007">
   <div class="hidden figureViewerArticleInfo">
    <span class="figViewerTitle">Energy-optimal overtaking manoeuvres of Formula-E cars</span>
    <div class="articleAuthors articleInfoSection">
     <div class="authorsHeading">
      All authors
     </div>
     <div class="authors">
      <a class="entryAuthor" href="/action/doSearch?Contrib=Liu%2C+Xuze"><span class="hlFld-ContribAuthor"></span></a><a href="/author/Liu%2C+Xuze"><span class="NLM_given-names">Xuze</span> Liu</a> <a href="https://orcid.org/0000-0002-2908-2738"><img src="/templates/jsp/images/orcid.png"></a>, <a class="entryAuthor" href="/action/doSearch?Contrib=Fotouhi%2C+Abbas"><span class="hlFld-ContribAuthor"></span></a><a href="/author/Fotouhi%2C+Abbas"><span class="NLM_given-names">Abbas</span> Fotouhi</a> <a href="https://orcid.org/0000-0002-5402-8629"><img src="/templates/jsp/images/orcid.png"></a> &amp; <a class="entryAuthor" href="/action/doSearch?Contrib=Auger%2C+Daniel+J"><span class="hlFld-ContribAuthor"></span></a><a href="/author/Auger%2C+Daniel+J"><span class="NLM_given-names">Daniel J.</span> Auger</a> <a href="https://orcid.org/0000-0002-6199-4251"><img src="/templates/jsp/images/orcid.png"></a>
     </div>
    </div>
    <div class="articleLowerInfo articleInfoSection">
     <div class="articleLowerInfoSection articleInfoDOI">
      <a href="https://doi.org/10.1080/00423114.2022.2096082">https://doi.org/10.1080/00423114.2022.2096082</a>
     </div>
     <div class="articleInfoPublicationDate articleLowerInfoSection border">
      <h6>Published online:</h6>11 July 2022
     </div>
    </div>
   </div>
   <div class="figureThumbnailContainer">
    <div class="figureInfo">
     <div class="short-legend">
      <p class="captionText"><span class="captionLabel">Figure 7. </span> Minimum energy consumption for a successful overtaking lap: (a) scenario S1; (b) scenario S2; (c) scenario S3; (d) scenario S4. The red lines categorise the simulations into two groups. On the left-hand side, the actor car can overtake the target using less energy than the target car. The right-hand side is the opposite.</p>
     </div>
    </div><a href="#" class="thumbnail" aria-label="thumbnail image"><img id="F0007image" src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/medium/nvsd_a_2096082_f0007_oc.jpg" loading="lazy" height="382" width="500"></a>
    <div class="figureDownloadOptions">
     <a href="#" class="downloadBtn btn btn-sm" role="button">Display full size</a>
    </div>
   </div>
  </div>
  <div class="hidden rs_skip" id="fig-description-F0007">
   <p class="captionText"><span class="captionLabel">Figure 7. </span> Minimum energy consumption for a successful overtaking lap: (a) scenario S1; (b) scenario S2; (c) scenario S3; (d) scenario S4. The red lines categorise the simulations into two groups. On the left-hand side, the actor car can overtake the target using less energy than the target car. The right-hand side is the opposite.</p>
  </div>
  <div class="hidden rs_skip" id="figureFootNote-F0007">
   <div class="figureFootNote-F0007"></div>
  </div>
  <p></p>
  <p>In terms of energy consumption, it is natural that the energy requirement increases when the target has a bigger advantage of either a bigger initial gap or a higher energy allowance. This correlation becomes non-linear and increases sharply with a bigger target advantage. However, an energy-efficient way of overtaking can be found when the actor car is on a higher power limit setting than the target car. As marked by red lines in Figure&nbsp;<a href="#F0007">7</a>(b–d), the region on the left-hand side of the red lines lies the cases in which the actor car can overtake the target using less energy than the target. This is due to the fact that higher power contributes to the performance in a significantly efficient way as pointed out in [<span class="ref-lnk lazy-ref"><a data-rid="CIT0027" data-reflink="_i38 _i39" href="#"><span class="off-screen">Citation</span>27</a></span>]. The power limit in [<span class="ref-lnk lazy-ref"><a data-rid="CIT0027" data-reflink="_i38 _i39" href="#"><span class="off-screen">Citation</span>27</a></span>] and this study is modelled as a path constraint in the OCP which means that the car is allowed to explore any power below the limit. When given an energy constraint, the fact that the solutions suggest doing lift and coasting instead of lowering the power indicates that the objective is more sensitive to the power limit. This can also be interpreted in the other way that a higher power limit is beneficial given the same or even tighter energy constraint. In contrast as shown in figure of scenario S1, when two cars have the same power settings, the actor has no other way but to use more energy to create speed advantages in order to overtake the target considering that the target is already on its optimal usage of energy.</p>
  <p>It can be observed in Figure&nbsp;<a href="#F0007">7</a> that successful overtaking solutions were found across the full-time gap range when the target car energy allowance is low (e.g. 1.2, 1.3 kWh/lap). However, when the target car was given more energy, solutions could not be found in the higher range of time gaps or even with the smallest gap of 0.1 s. There are two main causes for such results. First, the target car with a higher energy allowance naturally does less LaC. This is the reason why no solutions can be found when the target car has more than 1.7 kWh/lap of energy as shown in Figure&nbsp;<a href="#F0007">7</a>(a) under scenario S1. In such cases, although the target car still does LaC which potentially gives the actor a speed advantage (demonstrated in Figure&nbsp;<a href="#F0004">4</a>), the window of LaC is too short that the actor cannot gain enough speed advantage to overtake without violating the collision constraint (Figure&nbsp;<a href="#F0003">3</a>). Second, although knowing overtaking is possible with the target car given a certain amount of energy, the initial gap might be too big that the actor car is unable to catch up with the target before reaching the last possible overtaking zone. This can be further demonstrated in Figure&nbsp;<a href="#F0008">8</a> which shows the longitudinal distance between the actor and target car of the cases.</p>
  <div class="figure figureViewer" id="F0008">
   <div class="hidden figureViewerArticleInfo">
    <span class="figViewerTitle">Energy-optimal overtaking manoeuvres of Formula-E cars</span>
    <div class="articleAuthors articleInfoSection">
     <div class="authorsHeading">
      All authors
     </div>
     <div class="authors">
      <a class="entryAuthor" href="/action/doSearch?Contrib=Liu%2C+Xuze"><span class="hlFld-ContribAuthor"></span></a><a href="/author/Liu%2C+Xuze"><span class="NLM_given-names">Xuze</span> Liu</a> <a href="https://orcid.org/0000-0002-2908-2738"><img src="/templates/jsp/images/orcid.png"></a>, <a class="entryAuthor" href="/action/doSearch?Contrib=Fotouhi%2C+Abbas"><span class="hlFld-ContribAuthor"></span></a><a href="/author/Fotouhi%2C+Abbas"><span class="NLM_given-names">Abbas</span> Fotouhi</a> <a href="https://orcid.org/0000-0002-5402-8629"><img src="/templates/jsp/images/orcid.png"></a> &amp; <a class="entryAuthor" href="/action/doSearch?Contrib=Auger%2C+Daniel+J"><span class="hlFld-ContribAuthor"></span></a><a href="/author/Auger%2C+Daniel+J"><span class="NLM_given-names">Daniel J.</span> Auger</a> <a href="https://orcid.org/0000-0002-6199-4251"><img src="/templates/jsp/images/orcid.png"></a>
     </div>
    </div>
    <div class="articleLowerInfo articleInfoSection">
     <div class="articleLowerInfoSection articleInfoDOI">
      <a href="https://doi.org/10.1080/00423114.2022.2096082">https://doi.org/10.1080/00423114.2022.2096082</a>
     </div>
     <div class="articleInfoPublicationDate articleLowerInfoSection border">
      <h6>Published online:</h6>11 July 2022
     </div>
    </div>
   </div>
   <div class="figureThumbnailContainer">
    <div class="figureInfo">
     <div class="short-legend">
      <p class="captionText"><span class="captionLabel">Figure 8. </span> The relative position of the actor and target cars: (a) scenario S4 with target car energy allowance of 1.4kWh and (b) scenario S4 with target car energy allowance of 1.7kWh. Turn numbers are marked corresponding to Figure&nbsp;<a href="#F0004">4</a>(a).</p>
     </div>
    </div><a href="#" class="thumbnail" aria-label="thumbnail image"><img id="F0008image" src="/na101/home/literatum/publisher/tandf/journals/content/nvsd20/0/nvsd20.ahead-of-print/00423114.2022.2096082/20220711/images/medium/nvsd_a_2096082_f0008_oc.jpg" loading="lazy" height="500" width="374"></a>
    <div class="figureDownloadOptions">
     <a href="#" class="downloadBtn btn btn-sm" role="button">Display full size</a>
    </div>
   </div>
  </div>
  <div class="hidden rs_skip" id="fig-description-F0008">
   <p class="captionText"><span class="captionLabel">Figure 8. </span> The relative position of the actor and target cars: (a) scenario S4 with target car energy allowance of 1.4kWh and (b) scenario S4 with target car energy allowance of 1.7kWh. Turn numbers are marked corresponding to Figure&nbsp;<a href="#F0004">4</a>(a).</p>
  </div>
  <div class="hidden rs_skip" id="figureFootNote-F0008">
   <div class="figureFootNote-F0008"></div>
  </div>
  <p></p>
  <p>In Figure&nbsp;<a href="#F0008">8</a>, the relative position crossing zero denotes that overtaking occurs. It is noticeable from the figure that the overtaking position varies with different initial time gaps. Considering the problem formulation which aims to find the minimum energy consumption in overtaking, that feature means that the most energy-efficient overtaking position changes with a different initial gap. For the cases shown in Figure&nbsp;<a href="#F0008">8</a>(a), when the initial gap is less than 0.7 s, the overtaking manoeuvres take place at turn three. As the initial gap increases, the overtaking position is postponed to the highlighted zone before turn 11. When the gap is larger than 1.5 s, the overtaking is suggested to be executed in the highlighted zone before turn 12. Such results demonstrated in Figure&nbsp;<a href="#F0008">8</a> can be interpreted in two ways. First, in the cases with larger initial gaps, the solutions suggest that to accomplish overtaking within a lap using the least possible amount of energy, the actor car does not have to overtake as early as possible. This indicates that rushing to earlier overtaking positions is not an energy-efficient solution. However, this does not mean the overtaking should be postponed until the last possible position which leads to the second interpretation that for scenario S4, the most energy-wise ideal overtaking position is at turn 3. With the smallest initial gap of 0.1 s, which is the bottom blue line in Figure&nbsp;<a href="#F0008">8</a>(a), the actor theoretically has many overtaking chances along the full track. The solution suggests overtaking at turn three instead of following the target car for later overtaking chances which indicates the superiority of turn three. This can also be explained together with Figure&nbsp;<a href="#F0006">6</a>(a). In scenario S4, the target car needs to drive into the activation zone at turn three, clearing the normal racing line for the actor car. If the actor car can catch up efficiently before turn three then it can use such position advantage to overtake while driving on its optimal line with less concern about the collision constraints. Otherwise, the actor car needs to deliberately create a speed advantage later using more energy in order to overtake the actor which occupies the optimal race line. Therefore, turn three proves to be a very favourable overtaking position.</p>
  <p>Figure&nbsp;<a href="#F0008">8</a>(b) shows the cases where the target car is given more energy hence less LaC operations. As a result, this leaves the actor car no chance of overtaking after turn three because the actor will not be able to create enough speed advantage. Therefore, turn three becomes the last overtaking opportunity. If the actor cannot catch up with the target due to large initial gaps, then there is no overtaking chance in such a lap. This also explains the sharp cut in Figure&nbsp;<a href="#F0007">7</a>(d), that overtaking is infeasible when the target car is given more than 1.6 kWh of energy and the initial gap is larger than 0.7 s.</p>
  <p>Additionally, as it can be observed in Figure&nbsp;<a href="#F0007">7</a> and Appendix C for scenarios S1, S5 and S6, when the target car is given a very high energy allowance meantime under the same power limit as the actor car, overtaking is very difficult and mostly infeasible. Such cases can be referred to as safe scenarios where one cannot be overtaken despite an opponent being willing to spend more energy. However, it should be noted that such results are based on the assumptions introduced in Section&nbsp;2.3.3. In real life, overtaking might still be possible in these safe scenarios if a driver decides to overtake aggressively by blocking or forcing the opponent car off its race line. These manoeuvres might lead to danger or penalties thus are not discussed in this study. Additional overtake trajectories are shown in Appendix B.</p>
 </div>
</div>
<div id="S005" class="NLM_sec NLM_sec_level_1">
 <h2 id="_i37" class="section-heading-2">5. Conclusion</h2>
 <p>In this study, the overtaking feasibility and energy consumption of formula E cars were analysed by formulating an OCP. Multiple overtaking opportunities were found along the full length of a track. An overtaking can be feasible under three circumstances. (1) Actor car gaining speed advantage by doing less LaC than target car. (2) Actor car gaining speed advantage with a higher power limit than target car. (3) Target car deviating from the normal race line leaving track space for actor car. However, when the target car is on a high energy consumption lap (i.e. faster with less LaC), overtaking might start to be infeasible. The infeasibility might also happen when the initial gap is too large for the actor car to catch up with the target before reaching the last possible overtaking position. In such scenarios, the target car can be considered as in a safe position.</p>
 <p>In terms of minimum energy consumption of an overtaking lap, the most energy-efficient position varies with different initial time gaps and energy consumption of the target car. When the actor and target cars are under the same power limit, the actor needs to use additional energy to execute overtaking and the amount increases as the initial gap gets larger. If the actor car is on a higher power mode setting than the target, an overtaking lap can be performed using less energy than the target making it a very efficient strategy.</p>
 <p>Overall, it is proved that choice of when and where to overtake an opponent significantly influences overtaking feasibility and energy consumption. Such decisions are a crucial element in Formula-E race strategy on a multi-lap level. This paper offers insight analysis of overtaking and fills the gap of multi-car lap performance analysis in the literature.</p>
</div>