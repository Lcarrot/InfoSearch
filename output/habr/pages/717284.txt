<div>
 <div class="article-formatted-body article-formatted-body article-formatted-body_version-1">
  <div xmlns="http://www.w3.org/1999/xhtml">
   <a href="https://habr.com/ru/company/ruvds/blog/717284/">
    <div style="text-align:center;">
     <img src="https://habrastorage.org/r/w1560/webt/g_/ar/ll/g_arllgnybdzkhosuodht900bxq.png" data-src="https://habrastorage.org/webt/g_/ar/ll/g_arllgnybdzkhosuodht900bxq.png">
    </div></a><br> Если говорить о высококачественных реализациях USB-C, то на рынке существует продукт, обладающий целым рядом привлекательных сторон, основанных на этом стандарте. Его также можно привести в качестве блестящего примера правильной реализации USB-C. Речь идёт о ноутбуке Framework, в котором центральное место занимают платы расширения USB-C.<a name="habracut"></a><br> <br>
   <blockquote>
    <i>Прим. пер.</i>: Это продолжение серии про USB-C, посвящённой всестороннему анализу этой технологии. Остальные части доступны здесь:<br> <br>
    <ul>
     <li><a href="https://habr.com/ru/company/ruvds/blog/714476/">Всё про USB-C: введение для электронщиков</a></li>
     <li><a href="https://habr.com/ru/company/ruvds/blog/705642/">Всё про USB-C: типы кабелей</a></li>
     <li><a href="https://habr.com/ru/company/ruvds/blog/711508/">Всё про USB-C: механика разъёмов</a></li>
     <li><a href="https://habr.com/ru/company/ruvds/blog/708492/">Всё про USB-C: переходники вне стандарта</a></li>
     <li><a href="https://habr.com/ru/company/ruvds/blog/712766/">Всё про USB-C: резисторы и E-Marker</a></li>
     <li><a href="https://habr.com/ru/company/ruvds/blog/710248/">Всё про USB-C: обеспечение питания</a></li>
     <li><a href="https://habr.com/ru/company/ruvds/blog/715748/">Всё про USB-C: высокоскоростные интерфейсы</a></li>
     <li><i>Всё про USB-C: ноутбук Framework</i> &lt; — Вы здесь</li>
    </ul>
   </blockquote><br> Буду откровенна — эту статью я набираю именно на Framework, который получила бесплатно от компании-производителя. Правда, предоставили мне его не для обзора на Hackaday. Дело в том, что я в качестве хобби занимаюсь разработкой оборудования для этого ноутбука, в частности плат, интересным образом расширяющих его функциональные возможности. В рамках программы поддержки разработчиков своего сообщества компания прислала мне ноутбук, который я бы не смогла получить для подобного хобби иным путём. Являясь членом сообщества Framework, я за время работы с этим устройством выявила как ряд положительных его особенностей, так и некоторые недочёты. Только эта статья не о том, что мне нравится или не нравится во Framework — таких и без того уже полно. <br> <br> Единственное, чем я за этот ноутбук заплатила — это созданием множества интересных плат расширения, что доставило мне массу удовольствия, как и возможность общения с создателями других крутых штуковин. Я очень люблю всячески экспериментировать с ноутбуками, и причина, по которой мне хочется поведать вам именно про Framework, в том, что он олицетворяет лучший пример реализации USB-C и возможностей работы с этой технологией.<br> <br>
   <h2><font color="#3AC1EF">▍ На борту исключительно USB-C</font></h2><br> Во Framework присутствует четыре порта USB-C, все из которых можно использовать для зарядки в качестве USB3, DisplayPort или Thunderbolt 3. Отчасти причина в том, что других портов, за исключением входа под наушники, в системе нет, и за каждым из имеющихся закреплён контроллер Thunderbolt и PD. Однако, в отличие от MacBook, с донглами здесь не поиграешься — все порты глубоко утоплены в корпус, и для всех своих нужд приходится использовать подключаемые к ним платы расширения, иначе говоря, модули. Самая простая, карта USB-C, просто выносит наружу порт, в который подключается. По сути, это расширение USB-C, но из разряда соответствующих стандарту. Внутри этой платы отсутствуют активные компоненты, и она просто пробрасывает контакты 1:1, наследуя все свойства базовых портов.<br> <br>
   <div style="text-align:center;">
    <img src="https://habrastorage.org/r/w1560/webt/ll/ji/az/lljiazffuksaffals2yarhbtjs8.png" data-src="https://habrastorage.org/webt/ll/ji/az/lljiazffuksaffals2yarhbtjs8.png">
   </div><br> Существуют и другие карты вроде HDMI, DisplayPort, USB-A, Ethernet, а также модули расширения хранилища. Несложно догадаться, что они активируют альтернативные режимы портов USB-C, к которым подключаются. При этом и DisplayPort, и HDMI используют альтернативный режим DP – плата первого просто проводит высокоскоростные контакты с активированным альтернативным режимом, а в плате второго установлена активная микросхема преобразования DisplayPort-HDMI. USB-A действует как переходник USB-C «папа» — USB-A 3.1 «мама», Ethernet подключается по USB3, и платы расширения хранилища, похоже, тоже.<br> <br> Это решает немало проблем. Если вам нужен ноутбук с очень специфичным сочетанием портов, то здесь вы наверняка сможете такое сочетание реализовать. Вам не придётся таскать с собой всяческие донглы – модули расширения компактные и очень удобные. Вы можете закинуть их горсть в сумку ноутбука и при необходимости использовать только модуль DisplayPort, подключая вместо него модули USB-C или USB-A в других случаях. Если порт вдруг выйдет из строя, вам больше не придётся заменять и чинить материнскую плату — просто установите другой модуль. Ах да, если у вас есть ещё один ноутбук с USB-C, то все платы расширения в крайнем случае можно будет использовать в нём в качестве донглов USB-C, если их торчащие корпуса не станут для вас проблемой.<br> <br>
   <h2><font color="#3AC1EF">▍ Платы сообщества</font></h2><br> С самого начала разработчики Framework опубликовали файлы, чтобы другие могли создавать собственные платы расширения — шаблон KiCad с номерами деталей, образец платы с микроконтроллером STM32 и макеты корпусов для 3D-печати. Они также обязались поддерживать разработчиков сообщества, спонсируя производство прототипов — именно под эту программу я и попала. И хотя одинокий электронщик может не потянуть разработку устройства с Thunderbolt, вы всё равно получите вывод 5 В и порт USB 2.0 с возможностью реализовать USB 3.0, если решите попробовать свои силы в согласовании импеданса. Кроме того, естественно, при условии сохранения линий CC здесь мы имеем возможность зарядки через USB-C. <br> <br>
   <div style="text-align:center;">
    <img src="https://habrastorage.org/r/w1560/webt/4r/vh/xu/4rvhxufdkzwzc2_u3actvhj2msq.png" data-src="https://habrastorage.org/webt/4r/vh/xu/4rvhxufdkzwzc2_u3actvhj2msq.png">
   </div><br> С тех пор форум Framework ожил. Люди начали изобретать, обсуждать, разрабатывать и дорабатывать проекты плат расширения, реализуя идеи от модема LTE до MagSafe. В итоге сообщество уже выпустило несколько модулей вроде магнитной платы зарядки USB-C, которую может собрать любой, используя 3D-печатный корпус и компоненты с AliExpress. Причём на её основе желающие реализуют уже более продвинутые модели. Кроме того, кто-то в Discord сейчас разрабатывает платы для последовательного порта, miniDisplayPort и порта VGA. Вот-вот планируется выпуск плат вроде RP2040 и двухпортового USB-C, и в будущем мы также можем увидеть некоторые неожиданные решения. В действительности проект по разработке платы Ethernet существовал в сообществе ещё задолго до появления в магазине Framework соответствующего модуля. <br> <br> К сожалению, не все разрабатываемые сообществом проекты модулей расширения дошли до стадии производства. Хотя не думаю, что это проблема Framework — скорее, дело в типичных сложностях, связанных с «воплощением проекта аппаратного устройства в реальность», которые мне тоже приходилось решать, и с которыми до сих пор приходится временами повозиться. Было бы здорово, если бы в сообществе разрабатывалось больше плат расширения. Думаю, что при иных обстоятельствах эти проекты процветали бы более успешно.<br> <br>
   <h2><font color="#3AC1EF">▍ Основные недочёты — в периферии</font></h2><br> Если говорить о USB-C, то не всё во Framework идеально. Например, платы расширения ввиду своего миниатюрного размера и плотной компоновки деталей имеют свойство нагреваться. При их использовании было обнаружено, что контроллеры модулей хранилища в результате перегрева могут начинать троттлить, что сказывается на скорости чтения/записи. Тем не менее каждый такой ноутбук комплектуется отвёрткой, и есть <a href="https://guides.frame.work/Guide/1TB+Expansion+Card+Throttling/105?lang=en">инструкция</a> о том, как можно с её помощью добавить в модуль хранилища теплоотвод, который снизит нагрев платы и исключит троттлинг. Однако эта проблема встречается не только в модулях хранилища — выпущенная сообществом плата LTE тоже может испытывать проблемы с перегревом, причина которого всё в том же тесном расположении внутренних компонентов. <br> <br>
   <div style="text-align:center;">
    <img src="https://habrastorage.org/r/w1560/webt/7w/bw/us/7wbwust_fl9lkufaievabmwmnnm.png" data-src="https://habrastorage.org/webt/7w/bw/us/7wbwust_fl9lkufaievabmwmnnm.png">
   </div><br> Все платы расширения, за исключением проходной платы USB-C, по сути являются устройствами постоянного подключения и потребляют энергию. Каждая из этих плат содержит подтягивающий к земле резистор на 5,1 кОм, который обнаруживается контроллером Thunderbolt, выводя его из режима ожидания и приводя к активации запрашиваемого платой альтернативного режима. При этом контроллер также переключает внутреннюю линию 5 В на порт USB-C, в результате чего плата получает питание. Я думаю, что именно два этих фактора и вызывают тот <a href="https://www.reddit.com/r/framework/comments/taoyaj/battery_issues_caused_by_expansion_cards/">расход энергии модулями расширения</a>, о котором сообщают некоторые люди. Основная часть этого расхода в определённый момент была компенсирована обновлениями прошивки, хотя в некоторой степени он неизбежно сохраняется.<br> <br> Зарядка по USB-C тоже оказалась не лишена недочётов. Мне попадались зарядные устройства, с которыми Framework не работал. Однажды мне даже пришлось потрудиться найти другой блок питания с USB-C взамен того, который, на мой взгляд, должен был подойти. Не факт, что вина была именно в блоке питания, и BIOS я тоже не обновляла, значит, скорее всего, мой ноутбук просто требует очередной версии прошивки для лучшей совместимости. <br> <br> Кроме того, в определённых партиях материнских плат FET-транзистор в цепи питания имел характеристики, отличные от заложенных в схеме, в связи с чем <a href="https://community.frame.work/t/usb-pd-15v-mode-issue/10618/">плохо работала</a> зарядка при 15 В, не позволяя использовать определённые пауэрбанки и зарядные устройства. Учитывая, что родной блок питания Framework работает при 20 В, вполне понятно, что этот недочёт могли упустить. К счастью, можно заказать на замену подходящую модель транзистора и повторно активировать зарядку при 15 В во встроенном контроллере (EC) — напомню, что у EC <a href="https://hackaday.com/2022/06/07/ec-hacking-your-laptop-has-a-microcontroller/">есть опенсорсная прошивка</a>.<br> <br>
   <h2><font color="#3AC1EF">▍ Открытый и ясный путь вперёд</font></h2><br> Об этих недочётах интересно говорить, но они оказываются незначительны, когда дело доходит до повседневного использования реализованных во Framework портов USB-C. В целом выполнены они в нём превосходно, и многие другие ноутбуки даже близко не достигают предоставляемого ими уровня функциональности.<br> <br>
   <div style="text-align:center;">
    <img src="https://habrastorage.org/r/w1560/webt/t3/ep/6x/t3ep6xtaqgeytedilytcamqf8ia.png" data-src="https://habrastorage.org/webt/t3/ep/6x/t3ep6xtaqgeytedilytcamqf8ia.png">
   </div><br> Степень открытости разработчиков в плане проектных решений и недочётов тоже несопоставима. Ни один другой производитель ноутбуков из всех, с какими мы вас знакомили, не показал бы, куда нужно добавить теплоотвод, и не предоставил бы транзистор на замену ущербному экземпляру для восполнения функциональности зарядки по USB-C. Другие компании не публикуют в таком объёме схемы и информацию о разъёмах для сообщества любителей-электронщиков. <br> <br> При этом вскормленная Framework экосистема USB-C действительно впечатляет. Я с нетерпением ожидаю плодов её деятельности как для пользовательской базы Framework, так и в плане косвенного стимулирования грамотных и разнообразных технологических решений в других ноутбуках.<br> <br>
   <blockquote>
    <b><font color="#3AC1EF"><a href="https://t.me/ruvds_community">Telegram-канал с розыгрышами призов, новостями IT и постами о ретроиграх</a></font></b>
   </blockquote><a href="http://ruvds.com/ru-rub?utm_source=habr&amp;utm_medium=article&amp;utm_campaign=Bright_Translate&amp;utm_content=vsyo_pro_usb_c_noutbuk_framework"><img src="https://habrastorage.org/r/w1560/webt/sz/7j/pf/sz7jpfj8i1pa6ocj-eia09dev4q.png" data-src="https://habrastorage.org/webt/sz/7j/pf/sz7jpfj8i1pa6ocj-eia09dev4q.png"></a>
  </div>
 </div>
</div> <!----> <!---->